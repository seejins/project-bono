{"version":3,"file":"LiveTimings-C0sbBn3t.js","sources":["../../src/components/LiveTimings.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo, Fragment } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport { ArrowUp, ArrowDown, Minus } from 'lucide-react';\nimport { convertToLiveTimingsFormat, getSessionTypeName, getSessionCategory } from '../utils/f123DataMapping';\nimport { F123DataService } from '../services/F123DataService';\n\n// Driver data interface for live timings\ninterface DriverData {\n  id: string;\n  position: number;\n  driverName: string;\n  driverAbbreviation: string;\n  teamColor: string;\n  fastestLap: string;\n  fastestLapTire?: 'S' | 'M' | 'H' | 'I' | 'W'; // Only set when there's a valid lap time\n  gap: string;\n  currentLapTime: string;\n  lastLapTime: string;\n  bestLap: string;\n  bestLapTire?: 'S' | 'M' | 'H' | 'I' | 'W';\n  interval: string;\n  status: 'RUNNING' | 'OUT_LAP' | 'IN_LAP' | 'IN LAP' | 'OUT LAP' | 'PITTING' | 'PIT' | 'OUT' | 'DNF' | 'DSQ' | 'RET' | 'NCL' | 'FINISHED';\n  driverStatus: 'RUNNING' | 'OUT_LAP' | 'IN_LAP' | 'IN_GARAGE';\n  positionChange: number;\n  lapsOnCompound: number;\n  tireCompound: 'S' | 'M' | 'H';\n  sector1Time?: string;\n  sector2Time?: string;\n  sector3Time?: string;\n  LS1?: string;\n  LS2?: string;\n  LS3?: string;\n  microSectors: Array<'purple' | 'green' | 'yellow' | 'grey'>;\n  isFastestLap?: boolean; // Kept for backward compatibility - not used in LiveTimings (uses event-based fastestLapCarIndex instead)\n  stintHistory: Array<{\n    compound: 'S' | 'M' | 'H';\n    laps: number;\n  }>;\n  currentTire: 'S' | 'M' | 'H';\n  stintLaps: number;\n  totalRaceLaps: number;\n}\n\n// Session Timer Component - Pure JavaScript animation (no React re-renders)\nconst SessionTimer = ({ sessionTimeLeft, isRunning }: { sessionTimeLeft: number; isRunning: boolean }) => {\n  const displayRef = useRef<HTMLSpanElement>(null);\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n  const startTimeRef = useRef<number>(Date.now());\n  const initialTimeRef = useRef<number>(sessionTimeLeft);\n  \n  useEffect(() => {\n    if (isRunning && displayRef.current) {\n      startTimeRef.current = Date.now();\n      initialTimeRef.current = sessionTimeLeft;\n      \n      timerRef.current = setInterval(() => {\n        if (displayRef.current) {\n          const elapsed = (Date.now() - startTimeRef.current) / 1000;\n          const remaining = Math.max(0, initialTimeRef.current - elapsed);\n          const minutes = Math.floor(remaining / 60);\n          const seconds = (remaining % 60).toFixed(0).padStart(2, '0');\n          displayRef.current.textContent = `${minutes}:${seconds}`;\n        }\n      }, 1000); // Update every 1 second\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    }\n    \n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [isRunning]);\n  \n  // Sync with game data when it changes (no re-render)\n  useEffect(() => {\n    startTimeRef.current = Date.now();\n    initialTimeRef.current = sessionTimeLeft;\n  }, [sessionTimeLeft]);\n  \n  return <span ref={displayRef} className=\"font-mono\">{Math.floor(sessionTimeLeft / 60)}:{(sessionTimeLeft % 60).toFixed(0).padStart(2, '0')}</span>;\n};\n\n// Get retirement status text based on F1 23 UDP status\nconst getRetirementStatus = (status: string): string => {\n  switch (status) {\n    case 'RUNNING': \n    case 'OUT_LAP': \n    case 'IN_LAP': \n    case 'PITTING': \n    case 'PIT': \n    case 'FINISHED':\n      return ''; // These are active statuses, show gap instead\n    case 'DNF': return 'DNF';\n    case 'RET': return 'RET';\n    case 'DSQ': return 'DSQ';\n    case 'NCL': return 'NCL';\n    case 'OUT': return 'OUT';\n    default: return '';\n  }\n};\n\n// Get color for retirement status\nconst getRetirementStatusColor = (status: string): string => {\n  switch (status) {\n    case 'RUNNING': \n    case 'OUT_LAP': \n    case 'IN_LAP': \n    case 'PITTING': \n    case 'PIT': \n    case 'FINISHED':\n      return 'text-white'; // Active - normal color\n    case 'DNF': return 'text-red-500'; // DNF\n    case 'RET': return 'text-red-500'; // RETIRED\n    case 'DSQ': return 'text-red-500'; // DISQUALIFIED\n    case 'NCL': return 'text-white/50'; // NOT CLASSIFIED\n    case 'OUT': return 'text-orange-500'; // OUT\n    default: return 'text-white';\n  }\n};\n\n// Get color for driver status\nconst getStatusColor = (status: string): string => {\n  switch (status) {\n    case 'RUNNING': return 'text-green-500';\n    case 'OUT LAP': return 'text-yellow-500';\n    case 'IN LAP': return 'text-yellow-500';\n    case 'PIT': return 'text-red-500';\n    case 'PITTING': return 'text-red-500';\n    default: return '';\n  }\n};\n\n// Helper function to determine if driver row should be dimmed\nconst isDriverRetired = (status: string): boolean => {\n  return status === 'DNF' || status === 'RET' || status === 'DSQ' || status === 'NCL' || status === 'OUT';\n};\n\n// Stint Graph Component - Simplified to use driver data directly\ninterface StintGraphProps {\n  driver: DriverData;\n}\n\nconst StintGraph = ({ driver }: StintGraphProps) => {\n  // Memoize render elements calculation to avoid recalculating on every render\n  const renderElements = useMemo(() => {\n  // Use driver data directly from UDP\n  const currentTire = driver.currentTire;\n    const stintLaps = driver.stintLaps; // Direct from m_tyres_age_laps (0-indexed: laps completed)\n  const totalRaceLaps = driver.totalRaceLaps;\n    const stintHistory = driver.stintHistory || [];\n    \n    // Separate completed stints from current stint\n    // endLap = 255 means current tire, otherwise it's the lap number (1-indexed) where stint ended\n    const completedStints = stintHistory.filter(stint => stint.laps !== 255 && stint.laps > 0);\n    \n    // Process completed stints to calculate laps per stint\n    // endLap is 1-indexed (lap where stint ended), so we calculate laps from previous endLap\n    let previousStintEndLap = 0;\n    const processedStints: Array<{ compound: 'S' | 'M' | 'H' | 'I' | 'W'; laps: number }> = [];\n    \n    for (const stint of completedStints) {\n      const endLap = stint.laps; // 1-indexed lap where this stint ended\n      const stintLapCount = endLap - previousStintEndLap; // Laps in this stint\n      \n      processedStints.push({\n        compound: stint.compound,\n        laps: stintLapCount\n      });\n      \n      previousStintEndLap = endLap;\n    }\n    \n    // Build render elements: [previous_stints] [current_stint] [remaining_laps]\n    const elements: Array<{ type: 'indicator' | 'lap'; tire?: string; lapNum?: number; isStintCount?: boolean }> = [];\n    \n    // Add all previous completed stints\n    for (let stintIndex = 0; stintIndex < processedStints.length; stintIndex++) {\n      const stint = processedStints[stintIndex];\n      const isFirstStint = stintIndex === 0;\n      \n      // Add tire indicator for this stint\n      elements.push({ type: 'indicator', tire: stint.compound, isStintCount: false });\n      \n      // Add lap boxes for this stint\n      // First stint: tire indicator + stint.laps boxes\n      // Subsequent stints: tire indicator + (stint.laps - 1) boxes (to fix off-by-one)\n      const lapBoxesToRender = isFirstStint ? stint.laps : stint.laps - 1;\n      for (let i = 0; i < lapBoxesToRender; i++) {\n        elements.push({ type: 'lap', tire: stint.compound });\n      }\n      \n      // No counter box for previous stints - replaced with colored lap box above\n    }\n    \n    // Add current stint\n    // Current tire indicator\n    elements.push({ type: 'indicator', tire: currentTire, isStintCount: false });\n    \n    // Current stint lap boxes\n  for (let i = 0; i < stintLaps - 1; i++) {\n      elements.push({ type: 'lap', tire: currentTire });\n  }\n  \n    // Current stint count box\n  if (stintLaps > 0) {\n      elements.push({ type: 'indicator', tire: currentTire, lapNum: stintLaps, isStintCount: true });\n    }\n    \n    // Calculate remaining laps - total boxes must equal totalRaceLaps\n    // Boxes used = all previous stints + current stint\n    const boxesUsedForPreviousStints = processedStints.reduce((sum, stint, index) => {\n      const isFirstStint = index === 0;\n      const lapBoxes = isFirstStint ? stint.laps : stint.laps - 1;\n      return sum + 1 + lapBoxes; // tire + lap boxes (adjusted for subsequent stints)\n    }, 0);\n    \n    const boxesUsedForCurrentStint = stintLaps > 0 \n      ? 1 + (stintLaps - 1) + 1  // tire + completed + counter\n      : 1;                        // tire only\n    \n    const totalBoxesUsed = boxesUsedForPreviousStints + boxesUsedForCurrentStint;\n    const remainingLaps = Math.max(0, totalRaceLaps - totalBoxesUsed);\n    \n    // Add remaining laps (adjusted to keep total = totalRaceLaps)\n  for (let i = 0; i < remainingLaps; i++) {\n      elements.push({ type: 'lap', tire: undefined });\n  }\n    \n    return elements;\n  }, [driver.currentTire, driver.stintLaps, driver.totalRaceLaps, driver.stintHistory]);\n  \n  return (\n    <div className=\"w-full h-5 overflow-hidden flex items-center space-x-0\">\n      {renderElements.map((element, index) => {\n        if (element.type === 'indicator') {\n          // Tire indicator or stint count box\n          const icon = element.tire ? F123DataService.getTireCompoundIcon(element.tire) : null;\n          const fullName = element.tire ? F123DataService.getTireCompoundFullName(element.tire) : null;\n          return (\n            <div\n              key={index}\n              className={`h-5 rounded-sm flex items-center justify-center text-[9px] font-bold flex-1 ${\n                element.tire === 'S' ? 'bg-red-500 text-white' :\n                element.tire === 'M' ? 'bg-yellow-500 text-black' :\n                element.tire === 'H' ? 'bg-white text-black' :\n                element.tire === 'I' ? 'bg-green-500 text-white' :\n                element.tire === 'W' ? 'bg-blue-500 text-white' :\n                'bg-white/15 text-white'\n              }`}\n              style={{ \n                minWidth: '2px'\n              }}\n            >\n              {element.isStintCount ? (\n                element.lapNum\n              ) : icon ? (\n                <img src={icon} alt={`${fullName} tire`} className=\"h-4 w-4\" />\n              ) : (\n                element.tire\n              )}\n            </div>\n          );\n        } else {\n          // Lap box - use bgClass only (backgroundColor was redundant, Tailwind handles it)\n          const bgClass = element.tire\n            ? (element.tire === 'S' ? 'bg-red-500' :\n               element.tire === 'M' ? 'bg-yellow-500' :\n               element.tire === 'H' ? 'bg-white' :\n               element.tire === 'I' ? 'bg-green-500' :\n               element.tire === 'W' ? 'bg-blue-500' : 'bg-white/15')\n            : 'bg-white/10';\n          \n          return (\n            <div\n              key={index}\n              className={`h-1 rounded-sm flex-1 ${bgClass}`}\n              style={{ \n                minWidth: '2px'\n              }}\n            />\n          );\n        }\n      })}\n    </div>\n  );\n};\n\nexport const LiveTimings = () => {\n  const [sessionData, setSessionData] = useState<any>(null);\n  const [drivers, setDrivers] = useState<any[]>([]);\n  const [previousDrivers, setPreviousDrivers] = useState<any[]>([]);\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const previousLapNumbers = useRef<Map<string, number>>(new Map());\n  \n  // Header notification state\n  const [headerNotification, setHeaderNotification] = useState<{\n    type: 'redFlag' | 'safetyCar' | 'vsc' | 'formation' | null;\n    message: string;\n    timestamp: number;\n  } | null>(null);\n  \n  // Temporary notifications removed - only persistent header notifications shown\n  const sessionRef = useRef<any>(null);\n  const previousSectors = useRef<Map<number, number>>(new Map());\n  const prevStatusMap = useRef<Map<number, string>>(new Map());\n  const prevPositionMap = useRef<Map<number, number>>(new Map());\n  const prevBestLapMap = useRef<Map<number, number>>(new Map());\n  // Backend now handles all persistence of personalBest sector times - no frontend ref needed\n  const duplicateWarningRef = useRef<Set<number>>(new Set()); // Track warned carNumbers to avoid console spam\n  \n  // Track fastest lap carIndex from FTLP event packet (authoritative source)\n  const [fastestLapCarIndex, setFastestLapCarIndex] = useState<string | null>(null);\n  \n  // Calculate sector coloring once at parent level (shared by both tables)\n  const { getCurrentSectorColor, fastestSectors, parseSectorTimeString } = useSectorColoring(drivers);\n\n  useEffect(() => {\n    // Initialize socket connection\n    const apiUrl = import.meta.env.VITE_API_URL || 'http://localhost:3001';\n    const newSocket = io(apiUrl);\n\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      // Explicitly request initial data on connection\n      // Commented out - initial data will come through telemetry after session restart/start\n      // newSocket.emit('requestInitialData');\n    });\n\n    newSocket.on('disconnect', () => {\n      setIsConnected(false);\n    });\n    newSocket.on('reconnect', () => {\n      setIsConnected(true);\n      // Request initial data on reconnect as well\n      // Commented out - initial data will come through telemetry after session restart/start\n      // newSocket.emit('requestInitialData');\n    });\n\n    // Listen for telemetry data (ongoing updates)\n    newSocket.on('telemetry', (data: any) => {\n      processSessionData(data);\n    });\n\n    // Listen for session data\n    newSocket.on('session', (data: any) => {\n      processSessionData(data);\n    });\n\n    // Listen for session completion\n    newSocket.on('sessionCompleted', () => {\n      // Handle session completion\n    });\n\n    // Listen for session changes\n    newSocket.on('sessionChanged', (data: any) => {\n      // Clear all state\n      setDrivers([]);\n      setPreviousDrivers([]);\n      previousLapNumbers.current.clear();\n      duplicateWarningRef.current.clear(); // Clear duplicate warnings on session change\n      setFastestLapCarIndex(null); // Clear fastest lap tracking on session change\n      // Clear notifications on session change\n      setHeaderNotification(null);\n    });\n\n    // Event Packet handlers\n    // Persistent notifications (header banner)\n    newSocket.on('event:redFlag', () => {\n      setHeaderNotification({\n        type: 'redFlag',\n        message: 'RED FLAG',\n        timestamp: Date.now()\n      });\n    });\n    \n    // Listen for fastest lap event (FTLP packet)\n    newSocket.on('event:fastestLap', (data: any) => {\n      // carIndex from event - convert to string to match driver.id format\n      if (data.carIndex !== undefined && data.carIndex !== null) {\n        setFastestLapCarIndex(data.carIndex.toString());\n      }\n    });\n    \n    newSocket.on('safetyCarStatusChanged', (data: any) => {\n      if (data.isSC) {\n        setHeaderNotification({\n          type: 'safetyCar',\n          message: 'SAFETY CAR',\n          timestamp: Date.now()\n        });\n      } else if (data.isVSC) {\n        setHeaderNotification({\n          type: 'vsc',\n          message: 'VIRTUAL SAFETY CAR',\n          timestamp: Date.now()\n        });\n      } else if (data.status === 3) {\n        // Formation Lap\n        setHeaderNotification({\n          type: 'formation',\n          message: 'FORMATION LAP',\n          timestamp: Date.now()\n        });\n        // Don't clear drivers - they're still on track during formation lap\n        // The header notification is sufficient to indicate formation lap status\n      } else if (data.status === 0) {\n        // Clear SC/VSC/Formation notification when status returns to 0\n        setHeaderNotification(prev => \n          (prev?.type === 'safetyCar' || prev?.type === 'vsc' || prev?.type === 'formation') ? null : prev\n        );\n      }\n    });\n    \n    // Only persistent header notifications shown (Red Flag, Safety Car, VSC, Formation Lap)\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.off('telemetry');\n      newSocket.off('session');\n      newSocket.off('sessionCompleted');\n      newSocket.off('sessionChanged');\n      newSocket.off('event:redFlag');\n      newSocket.off('event:fastestLap');\n      newSocket.off('safetyCarStatusChanged');\n      newSocket.off('connect');\n      newSocket.off('disconnect');\n      newSocket.off('reconnect_attempt');\n      newSocket.off('reconnect');\n      newSocket.close();\n      // Cleanup handled by socket disconnect\n    };\n  }, []); // Only run once on mount/unmount\n\n  const processSessionData = (data: any) => {\n    // Process F1 23 UDP data and update session/driver states\n    // If data is an array, extract session info from first driver\n    const firstDriver = Array.isArray(data) && data.length > 0 ? data[0] : data;\n    \n    const sessionType = firstDriver.sessionType || firstDriver.lapData?.sessionType || 10;\n    const sessionUid = firstDriver.sessionUid || firstDriver.header?.sessionUid || 0; // sessionUid now included in telemetry data\n    const sessionTimeLeft = firstDriver.sessionTimeLeft || 0;\n    \n    // Session change detection removed - backend handles this via sessionChanged event\n    // The backend emits this event from processSessionPacket, and we handle it in the event listener above\n    // This prevents unnecessary clearing of drivers when processing telemetry data\n    // sessionUid and sessionType updates are handled by sessionChanged event (lines 299-309), not here\n    \n    // Use shared utilities for session type helpers\n    const sessionTypeName = getSessionTypeName(sessionType);\n    const sessionCategory = getSessionCategory(sessionType);\n    \n    // Extract session information from first driver data\n    const trackName = firstDriver.trackName || 'Unknown Track';\n    const currentLap = firstDriver.lapNumber || firstDriver.lapData?.currentLapNum || 0;\n    const totalLaps = firstDriver.sessionData?.totalLaps || 0;\n    \n    // Header notifications are handled via socket events (event:redFlag, safetyCarStatusChanged)\n    // No redundant monitoring needed here\n    \n    const nextSession = {\n      sessionType: sessionCategory,\n      sessionTypeName: sessionTypeName,\n      trackName: trackName,\n      timeRemaining: sessionTimeLeft,\n      currentLap: currentLap,\n      totalLaps: totalLaps,\n      isConnected: true\n    };\n\n    const prev = sessionRef.current;\n    const timeChangedMeaningfully =\n      !prev || Math.abs((prev?.timeRemaining ?? 0) - (nextSession.timeRemaining ?? 0)) >= 1;\n\n    const metaChanged =\n      !prev ||\n      prev.sessionType !== nextSession.sessionType ||\n      prev.sessionTypeName !== nextSession.sessionTypeName ||\n      prev.trackName !== nextSession.trackName ||\n      prev.currentLap !== nextSession.currentLap ||\n      prev.totalLaps !== nextSession.totalLaps;\n\n    if (metaChanged || timeChangedMeaningfully) {\n      sessionRef.current = nextSession;\n      setSessionData(nextSession);\n    }\n\n    // Convert F1 23 UDP data to our format\n    if (data && Array.isArray(data)) {\n      // Find the leader's best lap time (position 1 driver's best lap)\n      const leader = data.find((driver: any) => driver.lapData?.carPosition === 1);\n      const leaderBestLapTime = leader?.lapData?.bestLapTimeInMS || leader?.lapData?.lastLapTimeInMS || 0;\n      const leaderLapNum = leader?.lapData?.currentLapNum || 0;\n      const isRace = sessionCategory === 'RACE';\n      \n      // Helper to map numeric driver status to string to match UI format\n      const mapDriverStatus = (status: number): string => {\n        switch (status) {\n          case 0: return 'IN_GARAGE';\n          case 1: return 'RUNNING';\n          case 2: return 'IN_LAP';\n          case 3: return 'OUT_LAP';\n          case 4: return 'RUNNING';\n          default: return 'RUNNING';\n        }\n      };\n\n      // Filter duplicates by carIndex early (prevents React duplicate key warnings and unnecessary processing)\n      // carIndex is always unique (0-21), unlike carNumber which could have collisions\n      const seenCarIndices = new Set<number>();\n      const uniqueData = data.filter((d: any) => {\n        const carIndex = d.carIndex ?? d.carNumber; // Fallback to carNumber if carIndex missing (backward compat)\n        // Skip entries without valid identifier\n        if (carIndex === undefined || carIndex === null) {\n          return false;\n        }\n        // Filter duplicates - keep first occurrence\n        if (seenCarIndices.has(carIndex)) {\n          // Warn only once per carIndex per session (avoid console spam)\n          if (!duplicateWarningRef.current.has(carIndex)) {\n            console.warn(`‚ö†Ô∏è Duplicate carIndex ${carIndex} detected - skipping duplicate entry`);\n            duplicateWarningRef.current.add(carIndex);\n          }\n          return false;\n        }\n        seenCarIndices.add(carIndex);\n        return true;\n      });\n\n      // Clear duplicate warnings on new session (reset when session changes)\n      if (seenCarIndices.size !== duplicateWarningRef.current.size) {\n        const newCarIndices = new Set(seenCarIndices);\n        // Only keep warnings for carIndices that still exist\n        duplicateWarningRef.current = new Set(\n          Array.from(duplicateWarningRef.current).filter(ci => newCarIndices.has(ci))\n        );\n      }\n\n      // Use filtered unique data for all subsequent processing\n      // Check for specific triggers that should cause updates (reduced noise)\n      let hasUpdates = false;\n\n      uniqueData.forEach((driver: any, index: number) => {\n        const carIndex = driver.carIndex ?? driver.carNumber ?? index; // Use carIndex from data, fallback to carNumber, then array index\n        const lapData = driver.lapData;\n        if (!lapData) return;\n\n        const carNumber = driver.carNumber;\n\n        // Position changes via ref map (no render-lag dependency)\n        const currentPosition = lapData.carPosition || 0;\n        const prevPos = prevPositionMap.current.get(carNumber) ?? currentPosition;\n        if (currentPosition !== prevPos) {\n          hasUpdates = true;\n        }\n        prevPositionMap.current.set(carNumber, currentPosition);\n\n        // Lap completion - backend now handles all persistence\n        const currentLapNum = lapData.currentLapNum || 0;\n        const previousLapNum = previousLapNumbers.current.get(carNumber) || 0;\n        if (currentLapNum > previousLapNum && previousLapNum > 0) {\n          hasUpdates = true;\n        }\n        previousLapNumbers.current.set(carNumber, currentLapNum);\n\n        // Sector completion tracking for update detection only\n        // Backend handles persistence and sends persisted values in telemetry\n        const currentSector = lapData.sector ?? 0;\n        const prevSector = previousSectors.current.get(carNumber) ?? currentSector;\n        const driverStatusStr = mapDriverStatus(lapData.driverStatus ?? 0);\n        if (driverStatusStr === 'RUNNING' && currentSector > prevSector) {\n          hasUpdates = true;\n        }\n        previousSectors.current.set(carNumber, currentSector);\n\n        // Best lap time changes (compare milliseconds directly)\n        const currentBestLap = lapData.bestLapTimeInMS || 0;\n        const previousBestLap = prevBestLapMap.current.get(carNumber) ?? 0;\n        if (currentBestLap > 0 && currentBestLap !== previousBestLap) {\n          hasUpdates = true;\n        }\n        if (currentBestLap > 0) {\n          prevBestLapMap.current.set(carNumber, currentBestLap);\n        }\n\n        // Driver status changes via ref map (no render-lag dependency)\n        const currentDriverStatusStr = mapDriverStatus(lapData.driverStatus ?? 0);\n        const prevStatus = prevStatusMap.current.get(carNumber) ?? currentDriverStatusStr;\n        if (currentDriverStatusStr !== prevStatus) {\n          hasUpdates = true;\n        }\n        prevStatusMap.current.set(carNumber, currentDriverStatusStr);\n      });\n\n      // First packet: allow render\n      if (previousDrivers.length === 0) {\n        hasUpdates = true;\n      }\n\n      // No meaningful changes detected - skip update (event-based updates only)\n      if (!hasUpdates) {\n        return;\n      }\n      \n      // Prepare pruned map for lap numbers and best lap times (reuse seenCarIndices Set)\n      // Use carIndex for map keys (always unique), but still track by carNumber for backward compatibility\n      const newCarNumbers = new Set(uniqueData.map((d: any) => d.carNumber).filter((cn: any) => cn !== undefined && cn !== null));\n      \n      // Prune maps to only include current drivers (use carNumber for compatibility with existing maps)\n      for (const key of previousLapNumbers.current.keys()) {\n        if (!newCarNumbers.has(key)) {\n          previousLapNumbers.current.delete(key);\n        }\n      }\n      for (const key of prevBestLapMap.current.keys()) {\n        if (!newCarNumbers.has(String(key))) {\n          prevBestLapMap.current.delete(key);\n        }\n      }\n      // Prune previousSectors map\n      for (const key of previousSectors.current.keys()) {\n        if (!newCarNumbers.has(key)) {\n          previousSectors.current.delete(key);\n        }\n      }\n      // Prune prevStatusMap\n      for (const key of prevStatusMap.current.keys()) {\n        if (!newCarNumbers.has(key)) {\n          prevStatusMap.current.delete(key);\n        }\n      }\n      // Prune prevPositionMap\n      for (const key of prevPositionMap.current.keys()) {\n        if (!newCarNumbers.has(key)) {\n          prevPositionMap.current.delete(key);\n        }\n      }\n\n      // Convert all drivers and update state - React will handle change detection\n      // Backend now handles all persistence of personalBest sector times\n      // Use uniqueData (already filtered for duplicates) instead of raw data\n      // Sort by position first to enable finding front car for interval calculation\n      const sortedUniqueData = [...uniqueData].sort((a: any, b: any) => {\n        const posA = a.lapData?.carPosition || a.position || 999;\n        const posB = b.lapData?.carPosition || b.position || 999;\n        return posA - posB;\n      });\n      \n      // Build position map for O(1) lookup instead of O(n) find for each driver\n      const positionToDriverMap = new Map<number, any>();\n      sortedUniqueData.forEach((d: any) => {\n        const pos = d.lapData?.carPosition || d.position || 999;\n        positionToDriverMap.set(pos, d);\n      });\n      \n      const newDrivers: DriverData[] = sortedUniqueData\n        .map((d: any) => {\n          // Find front car (position - 1) for interval calculation - O(1) lookup\n          const currentPosition = d.lapData?.carPosition || d.position || 999;\n          const frontCar = positionToDriverMap.get(currentPosition - 1);\n          const frontCarLapNum = frontCar?.lapData?.currentLapNum || frontCar?.currentLapNum;\n          \n          const converted = convertToLiveTimingsFormat(d, leaderBestLapTime, leaderLapNum, isRace, frontCarLapNum);\n          // Backend sends persisted values directly - no frontend persistence needed\n          \n          return converted;\n        });\n      // Removed redundant sort - already sorted by position\n\n      // Trim previousDrivers to current session drivers only\n      const newDriverIdsByStringId = new Set(newDrivers.map(d => d.id));\n      const trimmedPreviousDrivers = previousDrivers.filter(d => newDriverIdsByStringId.has(d.id));\n      \n      // Only update previousDrivers if it changed\n      const previousDriversChanged = trimmedPreviousDrivers.length !== previousDrivers.length ||\n        trimmedPreviousDrivers.some((d, i) => d.id !== previousDrivers[i]?.id);\n      if (previousDriversChanged) {\n        setPreviousDrivers(trimmedPreviousDrivers);\n      }\n\n      // Shallow comparison - only update if drivers actually changed\n      // Only check fields that are displayed in the current session type\n      const driversChanged = newDrivers.length !== drivers.length || \n        newDrivers.some((d, i) => {\n          const prevDriver = drivers[i];\n          if (!prevDriver || d.id !== prevDriver.id) return true;\n          \n          // Fields used in both race and practice/qualifying\n          if (d.position !== prevDriver.position ||\n              d.gap !== prevDriver.gap ||\n              d.interval !== prevDriver.interval ||\n              d.bestLap !== prevDriver.bestLap ||\n              d.lastLapTime !== prevDriver.lastLapTime ||\n              d.status !== prevDriver.status) {\n            return true;\n          }\n          \n          // For race: check LS1/LS2/LS3 (current live sectors displayed on right)\n          // For practice/qualifying: check sector1Time/sector2Time/sector3Time (best lap sectors on left)\n          if (isRace) {\n            // Race table shows LS1, LS2, LS3 (current live sectors) - check those\n            if (d.LS1 !== prevDriver.LS1 ||\n                d.LS2 !== prevDriver.LS2 ||\n                d.LS3 !== prevDriver.LS3) {\n              return true;\n            }\n          } else {\n            // Practice/Qualifying table shows sector1Time/sector2Time/sector3Time (best lap) on left\n            if (d.sector1Time !== prevDriver.sector1Time ||\n                d.sector2Time !== prevDriver.sector2Time ||\n                d.sector3Time !== prevDriver.sector3Time) {\n              return true;\n            }\n            // Also check LS1/LS2/LS3 for right side columns (current live sectors)\n            if (d.LS1 !== prevDriver.LS1 ||\n                d.LS2 !== prevDriver.LS2 ||\n                d.LS3 !== prevDriver.LS3) {\n              return true;\n            }\n          }\n          \n          return false;\n        });\n      \n      if (driversChanged) {\n        setDrivers(newDrivers);\n      }\n    }\n  };\n\n  // Memoize session display to avoid recalculating on every render\n  const sessionDisplay = useMemo(() => {\n    if (!sessionData) return 'No Session';\n    \n    if (sessionData.sessionType === 'RACE') {\n      return `LAP ${sessionData.currentLap || 0} / ${sessionData.totalLaps || 0}`;\n    } else {\n      const totalSeconds = Math.max(0, sessionData.timeRemaining || 0);\n      const minutes = Math.floor(totalSeconds / 60);\n      const seconds = Math.floor(totalSeconds % 60).toString().padStart(2, '0');\n      return `${minutes}:${seconds}`;\n    }\n  }, [sessionData?.sessionType, sessionData?.currentLap, sessionData?.totalLaps, sessionData?.timeRemaining]);\n\n  if (!sessionData) {\n    return (\n      <div className=\"-mt-24 -ml-[calc(50vw-50%)] -mr-[calc(50vw-50%)] w-screen min-h-[calc(100vh+96px)] overflow-hidden bg-[#060b1d] text-slate-100 relative\">\n        <div className=\"pointer-events-none absolute inset-0 z-0\">\n          <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(252,70,107,0.08),transparent_62%),radial-gradient(circle_at_bottom,_rgba(63,94,251,0.05),transparent_52%)]\" />\n          <div className=\"absolute inset-x-0 -top-[480px] h-[960px] bg-[radial-gradient(circle_at_top,_rgba(248,113,113,0.22),transparent_76%)] blur-[120px]\" />\n          <div className=\"absolute inset-x-0 top-0 h-48 bg-gradient-to-b from-[#060b1d] via-transparent to-transparent\" />\n          <div className=\"absolute inset-x-0 bottom-0 h-48 bg-gradient-to-t from-[#060b1d] via-transparent to-transparent\" />\n        </div>\n\n        <div className=\"relative z-10 mx-auto flex min-h-[calc(100vh+96px)] max-w-[1600px] items-center justify-center px-6 pt-24\">\n          <div className=\"rounded-3xl border border-white/10 bg-white/5 px-10 py-12 text-center backdrop-blur-md shadow-[0_35px_90px_-45px_rgba(6,11,29,0.85)]\">\n            <div className=\"text-6xl mb-4\">üèÅ</div>\n            <h1 className=\"text-3xl font-extrabold uppercase tracking-[0.35em] text-white\">Live Timings</h1>\n            <p className=\"mt-3 text-sm uppercase tracking-[0.25em] text-white/60\">Awaiting Connection</p>\n            <p className=\"mt-6 text-base text-white/50\">\n              Enable telemetry in F1¬Æ 23 and keep this page open to follow every split in real time.\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"-mt-24 -ml-[calc(50vw-50%)] -mr-[calc(50vw-50%)] w-screen min-h-[calc(100vh+96px)] overflow-hidden bg-[#060b1d] text-slate-100 relative\">\n      <div className=\"pointer-events-none absolute inset-0 z-0\">\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(252,70,107,0.08),transparent_62%),radial-gradient(circle_at_bottom,_rgba(63,94,251,0.05),transparent_52%)]\" />\n        <div className=\"absolute inset-x-0 -top-[480px] h-[960px] bg-[radial-gradient(circle_at_top,_rgba(248,113,113,0.22),transparent_76%)] blur-[120px]\" />\n        <div className=\"absolute inset-x-0 top-0 h-48 bg-gradient-to-b from-[#060b1d] via-transparent to-transparent\" />\n        <div className=\"absolute inset-x-0 bottom-0 h-48 bg-gradient-to-t from-[#060b1d] via-transparent to-transparent\" />\n      </div>\n\n      <div className=\"relative z-10 mx-auto max-w-[1600px] px-6 pt-24 pb-12\">\n        {/* Header with Notification System */}\n        <div\n          className={`relative border-b border-white/10 px-6 py-6 backdrop-blur-sm transition-colors duration-300 ${\n            headerNotification?.type === 'redFlag'\n              ? 'bg-red-500/20 text-red-100'\n              : headerNotification?.type === 'safetyCar' || headerNotification?.type === 'vsc' || headerNotification?.type === 'formation'\n                ? 'bg-amber-400/20 text-amber-100'\n                : 'bg-white/5 text-slate-100'\n          }`}\n        >\n        <div className=\"relative flex items-center justify-between\">\n          {/* Left: Track/Session Info */}\n          <div className=\"flex flex-col gap-1 md:flex-row md:items-center md:gap-6\">\n            <div className=\"flex items-center gap-3 text-sm font-semibold uppercase tracking-[0.3em] text-white/80\">\n              <span className=\"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-1.5 text-xs font-bold tracking-[0.4em]\">\n                Live\n              </span>\n              <span className=\"hidden md:inline-block text-white/60\">‚Ä¢</span>\n              <span className=\"text-white/70\">{sessionData.trackName}</span>\n            </div>\n            <div className=\"flex flex-wrap items-center gap-4 text-base font-medium tracking-[0.12em] text-white\">\n              <span className=\"flex items-center gap-2\">\n                üèÅ <span className=\"uppercase\">{sessionData.sessionTypeName || sessionData.sessionType}</span>\n              </span>\n              <span className=\"flex items-center gap-2\">\n                ‚è±Ô∏è{' '}\n                {sessionData.sessionType === 'RACE' ? (\n                  sessionDisplay\n                ) : (\n                  <SessionTimer\n                    sessionTimeLeft={sessionData.timeRemaining || 0}\n                    isRunning={isConnected && sessionData.timeRemaining > 0}\n                  />\n                )}\n              </span>\n              {sessionData.sessionType === 'RACE' && (\n                <span className=\"flex items-center gap-2 text-white/60\">\n                  Laps {sessionData.currentLap || 0}/{sessionData.totalLaps || 0}\n                </span>\n              )}\n            </div>\n          </div>\n\n          {/* Center: Header Notification (persistent) - Absolutely positioned for true centering */}\n          {headerNotification && (\n            <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2\">\n              <span className=\"rounded-full border border-white/20 bg-white/10 px-5 py-1 text-base font-semibold uppercase tracking-[0.3em] text-white\">\n                {headerNotification.message}\n              </span>\n            </div>\n          )}\n\n          {/* Right: Connection Status */}\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.25em] text-white/70\">\n              <span className={`block h-2 w-2 rounded-full ${isConnected ? 'bg-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.8)]' : 'bg-rose-400 shadow-[0_0_8px_rgba(244,114,182,0.7)]'}`} />\n              {isConnected ? 'Connected' : 'Disconnected'}\n            </div>\n          </div>\n        </div>\n      </div>\n\n        {/* Main Content - Constrained Width for 1440p Optimization */}\n        <div className=\"mx-auto max-w-[2048px] px-6 py-10\">\n          <div className=\"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-[0_25px_80px_-45px_rgba(8,10,25,0.95)] backdrop-blur-md\">\n              {/* Loading state overlay - show when session exists but no drivers loaded yet */}\n              {sessionData && drivers.length === 0 && (\n                <div className=\"absolute inset-0 z-10 flex flex-col items-center justify-center bg-[#060b1d]/75 backdrop-blur-lg\">\n                  <div className=\"mb-4 h-12 w-12 animate-spin rounded-full border-2 border-white/40 border-b-transparent\"></div>\n                  <p className=\"text-lg font-medium tracking-[0.18em] uppercase text-white/80\">Loading driver data‚Ä¶</p>\n                  <p className=\"mt-2 text-sm text-white/60\">Waiting for participants packet</p>\n                </div>\n              )}\n              \n              {/* Always show table - empty if no data */}\n            {sessionData.sessionType === 'RACE' ? (\n               <RaceTimingTable \n                 drivers={drivers} \n                 previousDrivers={previousDrivers}\n                 getCurrentSectorColor={getCurrentSectorColor}\n                 fastestLapCarIndex={fastestLapCarIndex}\n               />\n              ) : (\n               <PracticeQualifyingTimingTable \n                 drivers={drivers} \n                 previousDrivers={previousDrivers}\n                 getCurrentSectorColor={getCurrentSectorColor}\n                 fastestSectors={fastestSectors}\n                 parseSectorTimeString={parseSectorTimeString}\n               />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Shared hook for sector coloring logic (used by both tables)\n// Placed at component level so calculations happen once regardless of which table renders\nconst useSectorColoring = (drivers: DriverData[]) => {\n  // Memoize parse for sector times (stable reference)\n  const parseSectorTimeString = useMemo(() => (timeStr: string): number => {\n    if (!timeStr || timeStr === '--:--' || timeStr === '--.---') return 0;\n    if (timeStr.includes(':')) {\n      const parts = timeStr.split(':');\n      const minutes = parseFloat(parts[0]) || 0;\n      const seconds = parseFloat(parts[1]) || 0;\n      return minutes * 60 + seconds;\n    }\n    return parseFloat(timeStr) || 0;\n  }, []); // Empty deps - function never changes\n\n  // Memoize fastest sectors calculation (recomputes only when drivers sector times change)\n  // Optimized: Parse sector times only once per driver (was parsing 3x before)\n  // Create stable signature based on actual sector time values, not array reference\n  const driversSectorSignature = useMemo(() => {\n    return drivers.map(d => `${d.id}:${d.sector1Time}:${d.sector2Time}:${d.sector3Time}`).join('|');\n  }, [drivers]);\n  \n  const fastestSectors = useMemo(() => {\n    // Single pass: parse all sector times once per driver\n    const parsedSectors = drivers.map(d => ({\n      id: d.id,\n      s1: parseSectorTimeString(d.sector1Time || '0'),\n      s2: parseSectorTimeString(d.sector2Time || '0'),\n      s3: parseSectorTimeString(d.sector3Time || '0')\n    }));\n    \n    // Find fastest times (filter valid > 0)\n    const validS1Times = parsedSectors.map(p => p.s1).filter(t => t > 0);\n    const fastestS1 = validS1Times.length > 0 ? Math.min(...validS1Times) : Infinity;\n    \n    const validS2Times = parsedSectors.map(p => p.s2).filter(t => t > 0);\n    const fastestS2 = validS2Times.length > 0 ? Math.min(...validS2Times) : Infinity;\n    \n    const validS3Times = parsedSectors.map(p => p.s3).filter(t => t > 0);\n    const fastestS3 = validS3Times.length > 0 ? Math.min(...validS3Times) : Infinity;\n    \n    // Pre-index by driver for personal best lookup (reuse parsed values)\n    const sectorBestMap: Record<string, {s1: number, s2: number, s3: number}> = {};\n    parsedSectors.forEach(p => {\n      sectorBestMap[p.id] = {\n        s1: p.s1,\n        s2: p.s2,\n        s3: p.s3\n      };\n    });\n    \n    return { fastestS1, fastestS2, fastestS3, sectorBestMap };\n  }, [driversSectorSignature, parseSectorTimeString]); // Only recalculates when sector times actually change\n\n  // Memoize color computation function (stable reference, but uses latest fastestSectors)\n  const getCurrentSectorColor = useMemo(() => {\n    return (driver: DriverData, sector: 's1' | 's2' | 's3'): string => {\n      const currentTimeStr = sector === 's1' ? driver.LS1 || '0' : sector === 's2' ? driver.LS2 || '0' : driver.LS3 || '0';\n      const currentTime = parseSectorTimeString(currentTimeStr);\n      if (!currentTime) return ''; // No time = no color coding\n      \n      const fastest = sector === 's1' ? fastestSectors.fastestS1 : sector === 's2' ? fastestSectors.fastestS2 : fastestSectors.fastestS3;\n      if (fastest === Infinity || fastest === 0) return '';\n      \n      if (currentTime < fastest) {\n        return 'text-purple-400 font-semibold';\n      }\n      \n      // Compare against best lap sectors (not previous LS values)\n      const best = fastestSectors.sectorBestMap[driver.id]?.[sector] || 0;\n      if (best > 0 && currentTime < best) {\n        return 'text-green-400';\n      }\n      \n      return 'text-white';\n    };\n  }, [fastestSectors, parseSectorTimeString]); // Only recreates when fastestSectors changes\n\n  return { parseSectorTimeString, fastestSectors, getCurrentSectorColor };\n};\n\n// Extended driver type with sector fastest flags\ntype DriverDataWithFlags = DriverData & {\n  isFastestS1: boolean;\n  isFastestS2: boolean;\n  isFastestS3: boolean;\n};\n\n// Pre-calculate sector fastest flags for practice/qualifying\nconst useSectorFastestFlags = (drivers: DriverData[], fastestSectors: any, parseSectorTimeString: (timeStr: string) => number): DriverDataWithFlags[] => {\n  return useMemo(() => {\n    return drivers.map(driver => {\n      const sector1Parsed = parseSectorTimeString(driver.sector1Time || '0');\n      const sector2Parsed = parseSectorTimeString(driver.sector2Time || '0');\n      const sector3Parsed = parseSectorTimeString(driver.sector3Time || '0');\n      \n      return {\n        ...driver,\n        isFastestS1: fastestSectors.fastestS1 !== Infinity && Math.abs(sector1Parsed - fastestSectors.fastestS1) < 0.001,\n        isFastestS2: fastestSectors.fastestS2 !== Infinity && Math.abs(sector2Parsed - fastestSectors.fastestS2) < 0.001,\n        isFastestS3: fastestSectors.fastestS3 !== Infinity && Math.abs(sector3Parsed - fastestSectors.fastestS3) < 0.001,\n      } as DriverDataWithFlags;\n    });\n  }, [drivers, fastestSectors, parseSectorTimeString]);\n};\n\n// Memoized Practice/Qualifying Driver Row Component\nconst PracticeDriverRow = React.memo(({ \n  driver,\n  getCurrentSectorColor,\n  isFastestS1,\n  isFastestS2,\n  isFastestS3\n}: {\n  driver: DriverData;\n  getCurrentSectorColor: (driver: DriverData, sector: 's1' | 's2' | 's3') => string;\n  isFastestS1: boolean;\n  isFastestS2: boolean;\n  isFastestS3: boolean;\n}) => {\n              return (\n    <div className=\"relative transition-all duration-150 ease-out\">\n      <div\n        className=\"grid grid-cols-13 gap-0 items-center border-b border-white/10 p-3 hover:bg-white/10\"\n        style={{gridTemplateColumns: '64px 116px 116px 96px 80px 80px 80px 1fr 116px 96px 80px 80px 80px'}}\n      >\n        {/* POS */}\n            <div className=\"px-2 border-r border-white/10 flex items-center justify-center\">\n              <div className={`w-5 h-5 rounded text-xs font-bold flex items-center justify-center position-indicator ${\n                driver.position === 1 ? 'bg-red-500 text-white shadow-[0_0_12px_rgba(248,113,113,0.75)]' : 'bg-white/15 text-white/80'\n              }`}>\n                {driver.position}\n              </div>\n            </div>\n            \n        {/* Driver */}\n        <div className={`px-3 border-r border-white/10 flex items-center ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/40' : ''\n            }`}>\n              <div className=\"flex items-center space-x-2\">\n                <div \n                  className=\"w-1 h-6 rounded\"\n                  style={{ backgroundColor: driver.teamColor }}\n                ></div>\n            <span className=\"font-semibold text-sm text-white\">{driver.driverAbbreviation}</span>\n              </div>\n            </div>\n            \n        {/* Lap Time */}\n        <div className={`px-[11px] border-r border-white/10 flex items-center justify-between ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : ''\n        }`}>\n          <span className=\"text-base font-mono tabular-nums tracking-tighter text-white\">{driver.fastestLap}</span>\n          {driver.fastestLapTire && (() => {\n            const icon = F123DataService.getTireCompoundIcon(driver.fastestLapTire);\n            const fullName = F123DataService.getTireCompoundFullName(driver.fastestLapTire);\n            if (!icon) {\n              return (\n                <span className=\"text-xs font-semibold text-white/70\">\n                  {driver.fastestLapTire}\n                </span>\n              );\n            }\n            return (\n              <img\n                src={icon}\n                alt={`${fullName} tire`}\n                className=\"h-5 w-5 ml-2\"\n        />\n            );\n          })()}\n            </div>\n            \n        {/* Gap */}\n        <div className={`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : ''\n        } ${getRetirementStatusColor(driver.status)}`}>\n          {isDriverRetired(driver.status) ? getRetirementStatus(driver.status) : driver.gap}\n            </div>\n            \n        {/* S1 (Best Lap) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n        } ${isFastestS1 ? 'text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]' : ''}`}>\n          {driver.sector1Time || '--:--'}\n            </div>\n            \n        {/* S2 (Best Lap) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n        } ${isFastestS2 ? 'text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]' : ''}`}>\n          {driver.sector2Time || '--:--'}\n        </div>\n        \n        {/* S3 (Best Lap) */}\n        <div className={`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n        } ${isFastestS3 ? 'text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]' : ''}`}>\n          {driver.sector3Time || '--:--'}\n        </div>\n        \n        {/* Micro-sectors */}\n        <div className={`px-8 border-r border-white/10 flex justify-center items-center ${\n          isDriverRetired(driver.status) ? 'opacity-40' : ''\n        }`}>\n          <div className=\"flex items-center gap-x-0.5 w-full\">\n            {(driver.microSectors && driver.microSectors.length === 24 \n              ? driver.microSectors \n              : Array(24).fill('grey')\n            ).map((sector, index) => {\n              const isMainSectorEnd = (index + 1) % 8 === 0 && index < 23;\n                  return (\n                <Fragment key={index}>\n                      <div\n                    className={`flex-1 h-4 min-w-0 rounded-sm ${\n                          sector === 'purple' ? 'bg-purple-500' :\n                          sector === 'green' ? 'bg-green-500' :\n                          sector === 'yellow' ? 'bg-amber-300' :\n                          'bg-white/20'\n                        }`}\n                      ></div>\n                  {isMainSectorEnd && <div className=\"w-1.5 flex-shrink-0\"></div>}\n                </Fragment>\n                  );\n                })}\n              </div>\n            </div>\n            \n            {/* Driver Last Name */}\n        <div className={`px-2 border-r border-white/10 text-sm text-left ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n            }`}>\n              {driver.driverName.split(' ').pop()}\n            </div>\n            \n        {/* Status */}\n        <div className={`px-2 border-r border-white/10 text-sm text-center ${getStatusColor(driver.status || '')} ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : ''\n        }`}>\n          {driver.status || ''}\n    </div>\n        \n        {/* S1 (Current) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : getCurrentSectorColor(driver, 's1') || 'text-white/70'\n        }`}>\n          {driver.LS1 || '--:--'}\n        </div>\n        \n        {/* S2 (Current) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : getCurrentSectorColor(driver, 's2') || 'text-white/70'\n        }`}>\n          {driver.LS2 || '--:--'}\n        </div>\n        \n        {/* S3 (Current) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : getCurrentSectorColor(driver, 's3') || 'text-white/70'\n        }`}>\n          {driver.LS3 || '--:--'}\n        </div>\n      </div>\n    </div>\n  );\n}, (prevProps, nextProps) => {\n  // Custom comparison - only re-render if these specific props changed\n  return (\n    prevProps.driver.id === nextProps.driver.id &&\n    prevProps.driver.position === nextProps.driver.position &&\n    prevProps.driver.fastestLap === nextProps.driver.fastestLap &&\n    prevProps.driver.fastestLapTire === nextProps.driver.fastestLapTire &&\n    prevProps.driver.gap === nextProps.driver.gap &&\n    prevProps.driver.status === nextProps.driver.status &&\n    prevProps.driver.sector1Time === nextProps.driver.sector1Time &&\n    prevProps.driver.sector2Time === nextProps.driver.sector2Time &&\n    prevProps.driver.sector3Time === nextProps.driver.sector3Time &&\n    prevProps.driver.LS1 === nextProps.driver.LS1 &&\n    prevProps.driver.LS2 === nextProps.driver.LS2 &&\n    prevProps.driver.LS3 === nextProps.driver.LS3 &&\n    prevProps.driver.microSectors === nextProps.driver.microSectors &&\n    prevProps.isFastestS1 === nextProps.isFastestS1 &&\n    prevProps.isFastestS2 === nextProps.isFastestS2 &&\n    prevProps.isFastestS3 === nextProps.isFastestS3\n  );\n});\n\n// Memoized Race Driver Row Component\nconst RaceDriverRow = React.memo(({ \n  driver,\n  getCurrentSectorColor,\n  fastestLapCarIndex,\n  StintGraph\n}: {\n  driver: DriverData;\n  getCurrentSectorColor: (driver: DriverData, sector: 's1' | 's2' | 's3') => string;\n  fastestLapCarIndex: string | null;\n  StintGraph: React.FC<{ driver: DriverData }>;\n}) => {\n              return (\n    <div className=\"relative transition-all duration-150 ease-out\">\n      <div\n        className=\"grid grid-cols-12 gap-0 items-center border-b border-white/10 p-3 hover:bg-white/10\"\n        style={{gridTemplateColumns: '64px 111px 80px 96px 116px 116px 1fr 116px 96px 80px 80px 80px'}}\n      >\n        {/* POS */}\n            <div className=\"px-2 border-r border-white/10 flex items-center justify-center\">\n              <div className={`w-5 h-5 rounded text-xs font-bold flex items-center justify-center position-indicator ${\n                driver.position === 1 ? 'bg-red-500 text-white shadow-[0_0_12px_rgba(248,113,113,0.75)]' : 'bg-white/15 text-white/80'\n              }`}>\n                {driver.position}\n              </div>\n            </div>\n            \n        {/* Driver with position change */}\n        <div className=\"px-[11px] border-r border-white/10 flex items-center justify-between\">\n              <div className=\"flex items-center space-x-2\">\n                <div \n                  className=\"w-1 h-6 rounded\"\n                  style={{ backgroundColor: driver.teamColor }}\n                ></div>\n            <span className=\"font-semibold text-sm text-white\">{driver.driverAbbreviation}</span>\n              </div>\n          <div className=\"flex items-center justify-end space-x-1 w-14\">\n                {driver.positionChange > 0 ? (\n                  <>\n                <ArrowUp className=\"w-4 h-4 text-emerald-400 position-change\" />\n                <span className=\"text-sm text-emerald-300 font-semibold position-change tabular-nums\">{driver.positionChange}</span>\n                  </>\n                ) : driver.positionChange < 0 ? (\n                  <>\n                <ArrowDown className=\"w-4 h-4 text-rose-400 position-change\" />\n                <span className=\"text-sm text-rose-300 font-semibold position-change tabular-nums\">{Math.abs(driver.positionChange)}</span>\n                  </>\n                ) : (\n                  <>\n                    <Minus className=\"w-3 h-3 text-white/30\" />\n                    <span className=\"text-xs text-white/40\">0</span>\n                  </>\n                )}\n              </div>\n            </div>\n            \n        {/* Gap */}\n        <div className={`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : ''\n        } ${getRetirementStatusColor(driver.status)}`}>\n          {isDriverRetired(driver.status) ? getRetirementStatus(driver.status) : driver.gap}\n            </div>\n            \n            {/* Interval */}\n        <div className={`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n            }`}>\n              {driver.interval}\n            </div>\n            \n            {/* Best Lap */}\n        <div className={`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n        } ${driver.id === fastestLapCarIndex ? 'text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]' : ''}`}>\n              {driver.bestLap}\n            </div>\n            \n            {/* Last Lap */}\n        <div className={`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n            }`}>\n              {driver.lastLapTime}\n            </div>\n            \n        {/* Stint Graph */}\n            <div className={`px-2 border-r border-white/10 flex justify-center items-center ${\n          isDriverRetired(driver.status) ? 'opacity-40' : ''\n            }`}>\n              <div className=\"flex justify-center items-center space-x-1 overflow-hidden w-full\">\n                <StintGraph driver={driver} />\n              </div>\n            </div>\n            \n            {/* Driver Last Name */}\n        <div className={`px-2 border-r border-white/10 text-sm text-left ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : 'text-white/80'\n            }`}>\n              {driver.driverName.split(' ').pop()}\n            </div>\n            \n        {/* Status */}\n        <div className={`px-2 border-r border-white/10 text-sm text-center ${getStatusColor(driver.status || '')} ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : ''\n        }`}>\n          {driver.status || ''}\n        </div>\n        \n        {/* S1 (Current) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : getCurrentSectorColor(driver, 's1') || 'text-white/70'\n        }`}>\n          {driver.LS1 || '--:--'}\n        </div>\n        \n        {/* S2 (Current) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : getCurrentSectorColor(driver, 's2') || 'text-white/70'\n        }`}>\n          {driver.LS2 || '--:--'}\n        </div>\n        \n        {/* S3 (Current) */}\n        <div className={`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${\n          isDriverRetired(driver.status) ? 'opacity-40 text-white/45' : getCurrentSectorColor(driver, 's3') || 'text-white/70'\n        }`}>\n          {driver.LS3 || '--:--'}\n        </div>\n      </div>\n    </div>\n  );\n}, (prevProps, nextProps) => {\n  // Custom comparison - only re-render if these specific props changed\n  return (\n    prevProps.driver.id === nextProps.driver.id &&\n    prevProps.driver.position === nextProps.driver.position &&\n    prevProps.driver.positionChange === nextProps.driver.positionChange &&\n    prevProps.driver.gap === nextProps.driver.gap &&\n    prevProps.driver.interval === nextProps.driver.interval &&\n    prevProps.driver.bestLap === nextProps.driver.bestLap &&\n    prevProps.driver.lastLapTime === nextProps.driver.lastLapTime &&\n    prevProps.driver.status === nextProps.driver.status &&\n    prevProps.driver.LS1 === nextProps.driver.LS1 &&\n    prevProps.driver.LS2 === nextProps.driver.LS2 &&\n    prevProps.driver.LS3 === nextProps.driver.LS3 &&\n    prevProps.driver.stintHistory === nextProps.driver.stintHistory &&\n    prevProps.driver.stintLaps === nextProps.driver.stintLaps &&\n    prevProps.fastestLapCarIndex === nextProps.fastestLapCarIndex\n  );\n});\n\n// Practice/Qualifying Timing Table Component\nconst PracticeQualifyingTimingTable = ({ \n  drivers, \n  previousDrivers,\n  getCurrentSectorColor,\n  fastestSectors,\n  parseSectorTimeString\n}: { \n  drivers: DriverData[], \n  previousDrivers: DriverData[],\n  getCurrentSectorColor: (driver: DriverData, sector: 's1' | 's2' | 's3') => string,\n  fastestSectors: { fastestS1: number, fastestS2: number, fastestS3: number, sectorBestMap: Record<string, {s1: number, s2: number, s3: number}> },\n  parseSectorTimeString: (timeStr: string) => number\n}) => {\n  // Pre-calculate sector fastest flags for all drivers\n  const driversWithFlags = useSectorFastestFlags(drivers, fastestSectors, parseSectorTimeString);\n\n  return (\n    <div className=\"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5\">\n      <div className=\"grid grid-cols-13 gap-0 border-b border-white/10 bg-white/10 px-3 py-4 text-xs font-semibold uppercase tracking-[0.3em] text-white/60\" style={{gridTemplateColumns: '64px 116px 116px 96px 80px 80px 80px 1fr 116px 96px 80px 80px 80px'}}>\n          <div className=\"px-2 text-center\">Pos</div>\n          <div className=\"px-2 text-center\">Driver</div>\n          <div className=\"px-[7px] text-center\">Lap Time</div>\n          <div className=\"px-2 text-center\">Gap</div>\n          <div className=\"px-2 text-center\">S1</div>\n          <div className=\"px-2 text-center\">S2</div>\n          <div className=\"px-2 text-center\">S3</div>\n          <div className=\"px-8 text-center\">Micro</div>\n          <div className=\"px-2 text-center\">Driver</div>\n          <div className=\"px-2 text-center\">Status</div>\n          <div className=\"px-2 text-center\">S1</div>\n          <div className=\"px-2 text-center\">S2</div>\n          <div className=\"px-2 text-center\">S3</div>\n        </div>\n        \n        <div>\n          {driversWithFlags.map((driverWithFlags) => (\n            <PracticeDriverRow\n              key={driverWithFlags.id}\n              driver={driverWithFlags}\n              getCurrentSectorColor={getCurrentSectorColor}\n              isFastestS1={driverWithFlags.isFastestS1}\n              isFastestS2={driverWithFlags.isFastestS2}\n              isFastestS3={driverWithFlags.isFastestS3}\n            />\n          ))}\n        </div>\n    </div>\n  );\n};\n\n// Race Timing Table Component\nconst RaceTimingTable = ({ \n  drivers, \n  previousDrivers,\n  getCurrentSectorColor,\n  fastestLapCarIndex\n}: { \n  drivers: DriverData[], \n  previousDrivers: DriverData[],\n  getCurrentSectorColor: (driver: DriverData, sector: 's1' | 's2' | 's3') => string,\n  fastestLapCarIndex: string | null\n}) => {\n  // Use shared logic from parent (no local calculations)\n\n  return (\n    <div className=\"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5\">\n      <div className=\"grid grid-cols-12 gap-0 border-b border-white/10 bg-white/10 px-3 py-4 text-xs font-semibold uppercase tracking-[0.3em] text-white/60\" style={{gridTemplateColumns: '64px 111px 80px 96px 116px 116px 1fr 116px 96px 80px 80px 80px'}}>\n          <div className=\"px-2 text-center\">Pos</div>\n          <div className=\"px-2 text-center\">Driver</div>\n          <div className=\"px-2 text-center\">Gap</div>\n          <div className=\"px-2 text-center\">Interval</div>\n          <div className=\"px-2 text-center\">Best Lap</div>\n          <div className=\"px-2 text-center\">Last Lap</div>\n          <div className=\"px-2 text-center\">Stints</div>\n          <div className=\"px-2 text-center\">Driver</div>\n          <div className=\"px-2 text-center\">Status</div>\n          <div className=\"px-2 text-center\">S1</div>\n          <div className=\"px-2 text-center\">S2</div>\n          <div className=\"px-2 text-center\">S3</div>\n        </div>\n        \n        <div>\n          {drivers.map((driver) => (\n            <RaceDriverRow\n              key={driver.id}\n              driver={driver}\n              getCurrentSectorColor={getCurrentSectorColor}\n              fastestLapCarIndex={fastestLapCarIndex}\n              StintGraph={StintGraph}\n            />\n          ))}\n        </div>\n    </div>\n  );\n};\n\n// Helper function for tire colors\nconst getTireColor = (tire: 'S' | 'M' | 'H' | 'I' | 'W'): string => {\n  switch (tire) {\n    case 'S': return 'text-red-500';\n    case 'M': return 'text-yellow-500';\n    case 'H': return 'text-white';\n    case 'I': return 'text-green-500';\n    case 'W': return 'text-blue-500';\n    default: return 'text-white/50';\n  }\n};\n\n"],"names":["SessionTimer","sessionTimeLeft","isRunning","displayRef","useRef","timerRef","startTimeRef","initialTimeRef","useEffect","elapsed","remaining","minutes","seconds","getRetirementStatus","status","getRetirementStatusColor","getStatusColor","isDriverRetired","StintGraph","driver","renderElements","useMemo","currentTire","stintLaps","totalRaceLaps","completedStints","stint","previousStintEndLap","processedStints","endLap","stintLapCount","elements","stintIndex","isFirstStint","lapBoxesToRender","i","boxesUsedForPreviousStints","sum","index","lapBoxes","boxesUsedForCurrentStint","totalBoxesUsed","remainingLaps","jsx","element","icon","F123DataService","fullName","bgClass","LiveTimings","sessionData","setSessionData","useState","drivers","setDrivers","previousDrivers","setPreviousDrivers","socket","setSocket","isConnected","setIsConnected","previousLapNumbers","headerNotification","setHeaderNotification","sessionRef","previousSectors","prevStatusMap","prevPositionMap","prevBestLapMap","duplicateWarningRef","fastestLapCarIndex","setFastestLapCarIndex","getCurrentSectorColor","fastestSectors","parseSectorTimeString","useSectorColoring","newSocket","io","data","processSessionData","prev","firstDriver","sessionType","_a","_b","sessionTypeName","getSessionTypeName","sessionCategory","getSessionCategory","trackName","currentLap","_c","totalLaps","_d","nextSession","timeChangedMeaningfully","leader","leaderBestLapTime","_e","_f","leaderLapNum","_g","isRace","mapDriverStatus","seenCarIndices","uniqueData","d","carIndex","newCarIndices","ci","hasUpdates","lapData","carNumber","currentPosition","prevPos","currentLapNum","previousLapNum","currentSector","prevSector","currentBestLap","previousBestLap","currentDriverStatusStr","prevStatus","newCarNumbers","cn","key","sortedUniqueData","a","b","posA","posB","positionToDriverMap","pos","newDrivers","frontCar","frontCarLapNum","convertToLiveTimingsFormat","newDriverIdsByStringId","trimmedPreviousDrivers","prevDriver","sessionDisplay","totalSeconds","jsxs","RaceTimingTable","PracticeQualifyingTimingTable","timeStr","parts","driversSectorSignature","parsedSectors","validS1Times","t","fastestS1","validS2Times","fastestS2","validS3Times","fastestS3","sectorBestMap","sector","currentTimeStr","currentTime","fastest","best","useSectorFastestFlags","sector1Parsed","sector2Parsed","sector3Parsed","PracticeDriverRow","React","isFastestS1","isFastestS2","isFastestS3","isMainSectorEnd","Fragment","prevProps","nextProps","RaceDriverRow","ArrowUp","ArrowDown","Minus","driversWithFlags","driverWithFlags"],"mappings":"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"}