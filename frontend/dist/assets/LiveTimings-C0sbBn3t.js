import{r as x,v as Ce,j as t,R as oe,F as H}from"./index-446XYAQp.js";import{b as _e,c as Ie,d as Re}from"./f123DataMapping-DL4nWXCf.js";import{A as ke,a as De,M as $e}from"./minus-Pc5ay-Je.js";const Fe=({sessionTimeLeft:e,isRunning:a})=>{const r=x.useRef(null),c=x.useRef(null),d=x.useRef(Date.now()),n=x.useRef(e);return x.useEffect(()=>(a&&r.current?(d.current=Date.now(),n.current=e,c.current=setInterval(()=>{if(r.current){const l=(Date.now()-d.current)/1e3,N=Math.max(0,n.current-l),b=Math.floor(N/60),g=(N%60).toFixed(0).padStart(2,"0");r.current.textContent=`${b}:${g}`}},1e3)):c.current&&(clearInterval(c.current),c.current=null),()=>{c.current&&clearInterval(c.current)}),[a]),x.useEffect(()=>{d.current=Date.now(),n.current=e},[e]),t.jsxs("span",{ref:r,className:"font-mono",children:[Math.floor(e/60),":",(e%60).toFixed(0).padStart(2,"0")]})},le=e=>{switch(e){case"RUNNING":case"OUT_LAP":case"IN_LAP":case"PITTING":case"PIT":case"FINISHED":return"";case"DNF":return"DNF";case"RET":return"RET";case"DSQ":return"DSQ";case"NCL":return"NCL";case"OUT":return"OUT";default:return""}},xe=e=>{switch(e){case"RUNNING":case"OUT_LAP":case"IN_LAP":case"PITTING":case"PIT":case"FINISHED":return"text-white";case"DNF":return"text-red-500";case"RET":return"text-red-500";case"DSQ":return"text-red-500";case"NCL":return"text-white/50";case"OUT":return"text-orange-500";default:return"text-white"}},de=e=>{switch(e){case"RUNNING":return"text-green-500";case"OUT LAP":return"text-yellow-500";case"IN LAP":return"text-yellow-500";case"PIT":return"text-red-500";case"PITTING":return"text-red-500";default:return""}},u=e=>e==="DNF"||e==="RET"||e==="DSQ"||e==="NCL"||e==="OUT",Me=({driver:e})=>{const a=x.useMemo(()=>{const r=e.currentTire,c=e.stintLaps,d=e.totalRaceLaps,l=(e.stintHistory||[]).filter(h=>h.laps!==255&&h.laps>0);let N=0;const b=[];for(const h of l){const j=h.laps,_=j-N;b.push({compound:h.compound,laps:_}),N=j}const g=[];for(let h=0;h<b.length;h++){const j=b[h],_=h===0;g.push({type:"indicator",tire:j.compound,isStintCount:!1});const D=_?j.laps:j.laps-1;for(let C=0;C<D;C++)g.push({type:"lap",tire:j.compound})}g.push({type:"indicator",tire:r,isStintCount:!1});for(let h=0;h<c-1;h++)g.push({type:"lap",tire:r});c>0&&g.push({type:"indicator",tire:r,lapNum:c,isStintCount:!0});const y=b.reduce((h,j,_)=>{const C=_===0?j.laps:j.laps-1;return h+1+C},0),f=c>0?1+(c-1)+1:1,T=y+f,p=Math.max(0,d-T);for(let h=0;h<p;h++)g.push({type:"lap",tire:void 0});return g},[e.currentTire,e.stintLaps,e.totalRaceLaps,e.stintHistory]);return t.jsx("div",{className:"w-full h-5 overflow-hidden flex items-center space-x-0",children:a.map((r,c)=>{if(r.type==="indicator"){const d=r.tire?H.getTireCompoundIcon(r.tire):null,n=r.tire?H.getTireCompoundFullName(r.tire):null;return t.jsx("div",{className:`h-5 rounded-sm flex items-center justify-center text-[9px] font-bold flex-1 ${r.tire==="S"?"bg-red-500 text-white":r.tire==="M"?"bg-yellow-500 text-black":r.tire==="H"?"bg-white text-black":r.tire==="I"?"bg-green-500 text-white":r.tire==="W"?"bg-blue-500 text-white":"bg-white/15 text-white"}`,style:{minWidth:"2px"},children:r.isStintCount?r.lapNum:d?t.jsx("img",{src:d,alt:`${n} tire`,className:"h-4 w-4"}):r.tire},c)}else{const d=r.tire?r.tire==="S"?"bg-red-500":r.tire==="M"?"bg-yellow-500":r.tire==="H"?"bg-white":r.tire==="I"?"bg-green-500":r.tire==="W"?"bg-blue-500":"bg-white/15":"bg-white/10";return t.jsx("div",{className:`h-1 rounded-sm flex-1 ${d}`,style:{minWidth:"2px"}},c)}})})},Je=()=>{const[e,a]=x.useState(null),[r,c]=x.useState([]),[d,n]=x.useState([]),[l,N]=x.useState(null),[b,g]=x.useState(!1),y=x.useRef(new Map),[f,T]=x.useState(null),p=x.useRef(null),h=x.useRef(new Map),j=x.useRef(new Map),_=x.useRef(new Map),D=x.useRef(new Map),C=x.useRef(new Set),[pe,q]=x.useState(null),{getCurrentSectorColor:V,fastestSectors:me,parseSectorTimeString:ue}=Ae(r);x.useEffect(()=>{const o=Ce("http://localhost:3001");return o.on("connect",()=>{g(!0)}),o.on("disconnect",()=>{g(!1)}),o.on("reconnect",()=>{g(!0)}),o.on("telemetry",w=>{Y(w)}),o.on("session",w=>{Y(w)}),o.on("sessionCompleted",()=>{}),o.on("sessionChanged",w=>{c([]),n([]),y.current.clear(),C.current.clear(),q(null),T(null)}),o.on("event:redFlag",()=>{T({type:"redFlag",message:"RED FLAG",timestamp:Date.now()})}),o.on("event:fastestLap",w=>{w.carIndex!==void 0&&w.carIndex!==null&&q(w.carIndex.toString())}),o.on("safetyCarStatusChanged",w=>{w.isSC?T({type:"safetyCar",message:"SAFETY CAR",timestamp:Date.now()}):w.isVSC?T({type:"vsc",message:"VIRTUAL SAFETY CAR",timestamp:Date.now()}):w.status===3?T({type:"formation",message:"FORMATION LAP",timestamp:Date.now()}):w.status===0&&T(L=>(L==null?void 0:L.type)==="safetyCar"||(L==null?void 0:L.type)==="vsc"||(L==null?void 0:L.type)==="formation"?null:L)}),N(o),()=>{o.off("telemetry"),o.off("session"),o.off("sessionCompleted"),o.off("sessionChanged"),o.off("event:redFlag"),o.off("event:fastestLap"),o.off("safetyCarStatusChanged"),o.off("connect"),o.off("disconnect"),o.off("reconnect_attempt"),o.off("reconnect"),o.close()}},[]);const Y=v=>{var K,X,Z,P,ee,te,se;const o=Array.isArray(v)&&v.length>0?v[0]:v,w=o.sessionType||((K=o.lapData)==null?void 0:K.sessionType)||10;o.sessionUid||(X=o.header)!=null&&X.sessionUid;const L=o.sessionTimeLeft||0,fe=_e(w),J=Ie(w),be=o.trackName||"Unknown Track",ge=o.lapNumber||((Z=o.lapData)==null?void 0:Z.currentLapNum)||0,we=((P=o.sessionData)==null?void 0:P.totalLaps)||0,k={sessionType:J,sessionTypeName:fe,trackName:be,timeRemaining:L,currentLap:ge,totalLaps:we,isConnected:!0},I=p.current,Ne=!I||Math.abs(((I==null?void 0:I.timeRemaining)??0)-(k.timeRemaining??0))>=1;if((!I||I.sessionType!==k.sessionType||I.sessionTypeName!==k.sessionTypeName||I.trackName!==k.trackName||I.currentLap!==k.currentLap||I.totalLaps!==k.totalLaps||Ne)&&(p.current=k,a(k)),v&&Array.isArray(v)){const R=v.find(s=>{var m;return((m=s.lapData)==null?void 0:m.carPosition)===1}),je=((ee=R==null?void 0:R.lapData)==null?void 0:ee.bestLapTimeInMS)||((te=R==null?void 0:R.lapData)==null?void 0:te.lastLapTimeInMS)||0,Se=((se=R==null?void 0:R.lapData)==null?void 0:se.currentLapNum)||0,ae=J==="RACE",re=s=>{switch(s){case 0:return"IN_GARAGE";case 1:return"RUNNING";case 2:return"IN_LAP";case 3:return"OUT_LAP";case 4:return"RUNNING";default:return"RUNNING"}},U=new Set,O=v.filter(s=>{const m=s.carIndex??s.carNumber;return m==null?!1:U.has(m)?(C.current.has(m)||(console.warn(`âš ï¸ Duplicate carIndex ${m} detected - skipping duplicate entry`),C.current.add(m)),!1):(U.add(m),!0)});if(U.size!==C.current.size){const s=new Set(U);C.current=new Set(Array.from(C.current).filter(m=>s.has(m)))}let $=!1;if(O.forEach((s,m)=>{s.carIndex??s.carNumber;const i=s.lapData;if(!i)return;const S=s.carNumber,F=i.carPosition||0,M=_.current.get(S)??F;F!==M&&($=!0),_.current.set(S,F);const E=i.currentLapNum||0,ce=y.current.get(S)||0;E>ce&&ce>0&&($=!0),y.current.set(S,E);const Q=i.sector??0,ve=h.current.get(S)??Q;re(i.driverStatus??0)==="RUNNING"&&Q>ve&&($=!0),h.current.set(S,Q);const B=i.bestLapTimeInMS||0,Le=D.current.get(S)??0;B>0&&B!==Le&&($=!0),B>0&&D.current.set(S,B);const W=re(i.driverStatus??0),Te=j.current.get(S)??W;W!==Te&&($=!0),j.current.set(S,W)}),d.length===0&&($=!0),!$)return;const A=new Set(O.map(s=>s.carNumber).filter(s=>s!=null));for(const s of y.current.keys())A.has(s)||y.current.delete(s);for(const s of D.current.keys())A.has(String(s))||D.current.delete(s);for(const s of h.current.keys())A.has(s)||h.current.delete(s);for(const s of j.current.keys())A.has(s)||j.current.delete(s);for(const s of _.current.keys())A.has(s)||_.current.delete(s);const ne=[...O].sort((s,m)=>{var F,M;const i=((F=s.lapData)==null?void 0:F.carPosition)||s.position||999,S=((M=m.lapData)==null?void 0:M.carPosition)||m.position||999;return i-S}),ie=new Map;ne.forEach(s=>{var i;const m=((i=s.lapData)==null?void 0:i.carPosition)||s.position||999;ie.set(m,s)});const G=ne.map(s=>{var M,E;const m=((M=s.lapData)==null?void 0:M.carPosition)||s.position||999,i=ie.get(m-1),S=((E=i==null?void 0:i.lapData)==null?void 0:E.currentLapNum)||(i==null?void 0:i.currentLapNum);return Re(s,je,Se,ae,S)}),ye=new Set(G.map(s=>s.id)),z=d.filter(s=>ye.has(s.id));(z.length!==d.length||z.some((s,m)=>{var i;return s.id!==((i=d[m])==null?void 0:i.id)}))&&n(z),(G.length!==r.length||G.some((s,m)=>{const i=r[m];if(!i||s.id!==i.id||s.position!==i.position||s.gap!==i.gap||s.interval!==i.interval||s.bestLap!==i.bestLap||s.lastLapTime!==i.lastLapTime||s.status!==i.status)return!0;if(ae){if(s.LS1!==i.LS1||s.LS2!==i.LS2||s.LS3!==i.LS3)return!0}else if(s.sector1Time!==i.sector1Time||s.sector2Time!==i.sector2Time||s.sector3Time!==i.sector3Time||s.LS1!==i.LS1||s.LS2!==i.LS2||s.LS3!==i.LS3)return!0;return!1}))&&c(G)}},he=x.useMemo(()=>{if(!e)return"No Session";if(e.sessionType==="RACE")return`LAP ${e.currentLap||0} / ${e.totalLaps||0}`;{const v=Math.max(0,e.timeRemaining||0),o=Math.floor(v/60),w=Math.floor(v%60).toString().padStart(2,"0");return`${o}:${w}`}},[e==null?void 0:e.sessionType,e==null?void 0:e.currentLap,e==null?void 0:e.totalLaps,e==null?void 0:e.timeRemaining]);return e?t.jsxs("div",{className:"-mt-24 -ml-[calc(50vw-50%)] -mr-[calc(50vw-50%)] w-screen min-h-[calc(100vh+96px)] overflow-hidden bg-[#060b1d] text-slate-100 relative",children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(252,70,107,0.08),transparent_62%),radial-gradient(circle_at_bottom,_rgba(63,94,251,0.05),transparent_52%)]"}),t.jsx("div",{className:"absolute inset-x-0 -top-[480px] h-[960px] bg-[radial-gradient(circle_at_top,_rgba(248,113,113,0.22),transparent_76%)] blur-[120px]"}),t.jsx("div",{className:"absolute inset-x-0 top-0 h-48 bg-gradient-to-b from-[#060b1d] via-transparent to-transparent"}),t.jsx("div",{className:"absolute inset-x-0 bottom-0 h-48 bg-gradient-to-t from-[#060b1d] via-transparent to-transparent"})]}),t.jsxs("div",{className:"relative z-10 mx-auto max-w-[1600px] px-6 pt-24 pb-12",children:[t.jsx("div",{className:`relative border-b border-white/10 px-6 py-6 backdrop-blur-sm transition-colors duration-300 ${(f==null?void 0:f.type)==="redFlag"?"bg-red-500/20 text-red-100":(f==null?void 0:f.type)==="safetyCar"||(f==null?void 0:f.type)==="vsc"||(f==null?void 0:f.type)==="formation"?"bg-amber-400/20 text-amber-100":"bg-white/5 text-slate-100"}`,children:t.jsxs("div",{className:"relative flex items-center justify-between",children:[t.jsxs("div",{className:"flex flex-col gap-1 md:flex-row md:items-center md:gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold uppercase tracking-[0.3em] text-white/80",children:[t.jsx("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-1.5 text-xs font-bold tracking-[0.4em]",children:"Live"}),t.jsx("span",{className:"hidden md:inline-block text-white/60",children:"â€¢"}),t.jsx("span",{className:"text-white/70",children:e.trackName})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-base font-medium tracking-[0.12em] text-white",children:[t.jsxs("span",{className:"flex items-center gap-2",children:["ðŸ ",t.jsx("span",{className:"uppercase",children:e.sessionTypeName||e.sessionType})]}),t.jsxs("span",{className:"flex items-center gap-2",children:["â±ï¸"," ",e.sessionType==="RACE"?he:t.jsx(Fe,{sessionTimeLeft:e.timeRemaining||0,isRunning:b&&e.timeRemaining>0})]}),e.sessionType==="RACE"&&t.jsxs("span",{className:"flex items-center gap-2 text-white/60",children:["Laps ",e.currentLap||0,"/",e.totalLaps||0]})]})]}),f&&t.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:t.jsx("span",{className:"rounded-full border border-white/20 bg-white/10 px-5 py-1 text-base font-semibold uppercase tracking-[0.3em] text-white",children:f.message})}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.25em] text-white/70",children:[t.jsx("span",{className:`block h-2 w-2 rounded-full ${b?"bg-emerald-400 shadow-[0_0_10px_rgba(52,211,153,0.8)]":"bg-rose-400 shadow-[0_0_8px_rgba(244,114,182,0.7)]"}`}),b?"Connected":"Disconnected"]})})]})}),t.jsx("div",{className:"mx-auto max-w-[2048px] px-6 py-10",children:t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-[0_25px_80px_-45px_rgba(8,10,25,0.95)] backdrop-blur-md",children:[e&&r.length===0&&t.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-[#060b1d]/75 backdrop-blur-lg",children:[t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-2 border-white/40 border-b-transparent"}),t.jsx("p",{className:"text-lg font-medium tracking-[0.18em] uppercase text-white/80",children:"Loading driver dataâ€¦"}),t.jsx("p",{className:"mt-2 text-sm text-white/60",children:"Waiting for participants packet"})]}),e.sessionType==="RACE"?t.jsx(He,{drivers:r,previousDrivers:d,getCurrentSectorColor:V,fastestLapCarIndex:pe}):t.jsx(Be,{drivers:r,previousDrivers:d,getCurrentSectorColor:V,fastestSectors:me,parseSectorTimeString:ue})]})})]})]}):t.jsxs("div",{className:"-mt-24 -ml-[calc(50vw-50%)] -mr-[calc(50vw-50%)] w-screen min-h-[calc(100vh+96px)] overflow-hidden bg-[#060b1d] text-slate-100 relative",children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(252,70,107,0.08),transparent_62%),radial-gradient(circle_at_bottom,_rgba(63,94,251,0.05),transparent_52%)]"}),t.jsx("div",{className:"absolute inset-x-0 -top-[480px] h-[960px] bg-[radial-gradient(circle_at_top,_rgba(248,113,113,0.22),transparent_76%)] blur-[120px]"}),t.jsx("div",{className:"absolute inset-x-0 top-0 h-48 bg-gradient-to-b from-[#060b1d] via-transparent to-transparent"}),t.jsx("div",{className:"absolute inset-x-0 bottom-0 h-48 bg-gradient-to-t from-[#060b1d] via-transparent to-transparent"})]}),t.jsx("div",{className:"relative z-10 mx-auto flex min-h-[calc(100vh+96px)] max-w-[1600px] items-center justify-center px-6 pt-24",children:t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 px-10 py-12 text-center backdrop-blur-md shadow-[0_35px_90px_-45px_rgba(6,11,29,0.85)]",children:[t.jsx("div",{className:"text-6xl mb-4",children:"ðŸ"}),t.jsx("h1",{className:"text-3xl font-extrabold uppercase tracking-[0.35em] text-white",children:"Live Timings"}),t.jsx("p",{className:"mt-3 text-sm uppercase tracking-[0.25em] text-white/60",children:"Awaiting Connection"}),t.jsx("p",{className:"mt-6 text-base text-white/50",children:"Enable telemetry in F1Â® 23 and keep this page open to follow every split in real time."})]})})]})},Ae=e=>{const a=x.useMemo(()=>n=>{if(!n||n==="--:--"||n==="--.---")return 0;if(n.includes(":")){const l=n.split(":"),N=parseFloat(l[0])||0,b=parseFloat(l[1])||0;return N*60+b}return parseFloat(n)||0},[]),r=x.useMemo(()=>e.map(n=>`${n.id}:${n.sector1Time}:${n.sector2Time}:${n.sector3Time}`).join("|"),[e]),c=x.useMemo(()=>{const n=e.map(p=>({id:p.id,s1:a(p.sector1Time||"0"),s2:a(p.sector2Time||"0"),s3:a(p.sector3Time||"0")})),l=n.map(p=>p.s1).filter(p=>p>0),N=l.length>0?Math.min(...l):1/0,b=n.map(p=>p.s2).filter(p=>p>0),g=b.length>0?Math.min(...b):1/0,y=n.map(p=>p.s3).filter(p=>p>0),f=y.length>0?Math.min(...y):1/0,T={};return n.forEach(p=>{T[p.id]={s1:p.s1,s2:p.s2,s3:p.s3}}),{fastestS1:N,fastestS2:g,fastestS3:f,sectorBestMap:T}},[r,a]),d=x.useMemo(()=>(n,l)=>{var f;const N=l==="s1"?n.LS1||"0":l==="s2"?n.LS2||"0":n.LS3||"0",b=a(N);if(!b)return"";const g=l==="s1"?c.fastestS1:l==="s2"?c.fastestS2:c.fastestS3;if(g===1/0||g===0)return"";if(b<g)return"text-purple-400 font-semibold";const y=((f=c.sectorBestMap[n.id])==null?void 0:f[l])||0;return y>0&&b<y?"text-green-400":"text-white"},[c,a]);return{parseSectorTimeString:a,fastestSectors:c,getCurrentSectorColor:d}},Ee=(e,a,r)=>x.useMemo(()=>e.map(c=>{const d=r(c.sector1Time||"0"),n=r(c.sector2Time||"0"),l=r(c.sector3Time||"0");return{...c,isFastestS1:a.fastestS1!==1/0&&Math.abs(d-a.fastestS1)<.001,isFastestS2:a.fastestS2!==1/0&&Math.abs(n-a.fastestS2)<.001,isFastestS3:a.fastestS3!==1/0&&Math.abs(l-a.fastestS3)<.001}}),[e,a,r]),Ue=oe.memo(({driver:e,getCurrentSectorColor:a,isFastestS1:r,isFastestS2:c,isFastestS3:d})=>t.jsx("div",{className:"relative transition-all duration-150 ease-out",children:t.jsxs("div",{className:"grid grid-cols-13 gap-0 items-center border-b border-white/10 p-3 hover:bg-white/10",style:{gridTemplateColumns:"64px 116px 116px 96px 80px 80px 80px 1fr 116px 96px 80px 80px 80px"},children:[t.jsx("div",{className:"px-2 border-r border-white/10 flex items-center justify-center",children:t.jsx("div",{className:`w-5 h-5 rounded text-xs font-bold flex items-center justify-center position-indicator ${e.position===1?"bg-red-500 text-white shadow-[0_0_12px_rgba(248,113,113,0.75)]":"bg-white/15 text-white/80"}`,children:e.position})}),t.jsx("div",{className:`px-3 border-r border-white/10 flex items-center ${u(e.status)?"opacity-40 text-white/40":""}`,children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-1 h-6 rounded",style:{backgroundColor:e.teamColor}}),t.jsx("span",{className:"font-semibold text-sm text-white",children:e.driverAbbreviation})]})}),t.jsxs("div",{className:`px-[11px] border-r border-white/10 flex items-center justify-between ${u(e.status)?"opacity-40 text-white/45":""}`,children:[t.jsx("span",{className:"text-base font-mono tabular-nums tracking-tighter text-white",children:e.fastestLap}),e.fastestLapTire&&(()=>{const n=H.getTireCompoundIcon(e.fastestLapTire),l=H.getTireCompoundFullName(e.fastestLapTire);return n?t.jsx("img",{src:n,alt:`${l} tire`,className:"h-5 w-5 ml-2"}):t.jsx("span",{className:"text-xs font-semibold text-white/70",children:e.fastestLapTire})})()]}),t.jsx("div",{className:`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":""} ${xe(e.status)}`,children:u(e.status)?le(e.status):e.gap}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":"text-white/80"} ${r?"text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]":""}`,children:e.sector1Time||"--:--"}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":"text-white/80"} ${c?"text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]":""}`,children:e.sector2Time||"--:--"}),t.jsx("div",{className:`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":"text-white/80"} ${d?"text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]":""}`,children:e.sector3Time||"--:--"}),t.jsx("div",{className:`px-8 border-r border-white/10 flex justify-center items-center ${u(e.status)?"opacity-40":""}`,children:t.jsx("div",{className:"flex items-center gap-x-0.5 w-full",children:(e.microSectors&&e.microSectors.length===24?e.microSectors:Array(24).fill("grey")).map((n,l)=>{const N=(l+1)%8===0&&l<23;return t.jsxs(x.Fragment,{children:[t.jsx("div",{className:`flex-1 h-4 min-w-0 rounded-sm ${n==="purple"?"bg-purple-500":n==="green"?"bg-green-500":n==="yellow"?"bg-amber-300":"bg-white/20"}`}),N&&t.jsx("div",{className:"w-1.5 flex-shrink-0"})]},l)})})}),t.jsx("div",{className:`px-2 border-r border-white/10 text-sm text-left ${u(e.status)?"opacity-40 text-white/45":"text-white/80"}`,children:e.driverName.split(" ").pop()}),t.jsx("div",{className:`px-2 border-r border-white/10 text-sm text-center ${de(e.status||"")} ${u(e.status)?"opacity-40 text-white/45":""}`,children:e.status||""}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":a(e,"s1")||"text-white/70"}`,children:e.LS1||"--:--"}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":a(e,"s2")||"text-white/70"}`,children:e.LS2||"--:--"}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":a(e,"s3")||"text-white/70"}`,children:e.LS3||"--:--"})]})}),(e,a)=>e.driver.id===a.driver.id&&e.driver.position===a.driver.position&&e.driver.fastestLap===a.driver.fastestLap&&e.driver.fastestLapTire===a.driver.fastestLapTire&&e.driver.gap===a.driver.gap&&e.driver.status===a.driver.status&&e.driver.sector1Time===a.driver.sector1Time&&e.driver.sector2Time===a.driver.sector2Time&&e.driver.sector3Time===a.driver.sector3Time&&e.driver.LS1===a.driver.LS1&&e.driver.LS2===a.driver.LS2&&e.driver.LS3===a.driver.LS3&&e.driver.microSectors===a.driver.microSectors&&e.isFastestS1===a.isFastestS1&&e.isFastestS2===a.isFastestS2&&e.isFastestS3===a.isFastestS3),Ge=oe.memo(({driver:e,getCurrentSectorColor:a,fastestLapCarIndex:r,StintGraph:c})=>t.jsx("div",{className:"relative transition-all duration-150 ease-out",children:t.jsxs("div",{className:"grid grid-cols-12 gap-0 items-center border-b border-white/10 p-3 hover:bg-white/10",style:{gridTemplateColumns:"64px 111px 80px 96px 116px 116px 1fr 116px 96px 80px 80px 80px"},children:[t.jsx("div",{className:"px-2 border-r border-white/10 flex items-center justify-center",children:t.jsx("div",{className:`w-5 h-5 rounded text-xs font-bold flex items-center justify-center position-indicator ${e.position===1?"bg-red-500 text-white shadow-[0_0_12px_rgba(248,113,113,0.75)]":"bg-white/15 text-white/80"}`,children:e.position})}),t.jsxs("div",{className:"px-[11px] border-r border-white/10 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-1 h-6 rounded",style:{backgroundColor:e.teamColor}}),t.jsx("span",{className:"font-semibold text-sm text-white",children:e.driverAbbreviation})]}),t.jsx("div",{className:"flex items-center justify-end space-x-1 w-14",children:e.positionChange>0?t.jsxs(t.Fragment,{children:[t.jsx(ke,{className:"w-4 h-4 text-emerald-400 position-change"}),t.jsx("span",{className:"text-sm text-emerald-300 font-semibold position-change tabular-nums",children:e.positionChange})]}):e.positionChange<0?t.jsxs(t.Fragment,{children:[t.jsx(De,{className:"w-4 h-4 text-rose-400 position-change"}),t.jsx("span",{className:"text-sm text-rose-300 font-semibold position-change tabular-nums",children:Math.abs(e.positionChange)})]}):t.jsxs(t.Fragment,{children:[t.jsx($e,{className:"w-3 h-3 text-white/30"}),t.jsx("span",{className:"text-xs text-white/40",children:"0"})]})})]}),t.jsx("div",{className:`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":""} ${xe(e.status)}`,children:u(e.status)?le(e.status):e.gap}),t.jsx("div",{className:`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":"text-white/80"}`,children:e.interval}),t.jsx("div",{className:`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":"text-white/80"} ${e.id===r?"text-fuchsia-300 font-semibold drop-shadow-[0_0_8px_rgba(217,70,239,0.45)]":""}`,children:e.bestLap}),t.jsx("div",{className:`px-2 border-r border-white/10 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":"text-white/80"}`,children:e.lastLapTime}),t.jsx("div",{className:`px-2 border-r border-white/10 flex justify-center items-center ${u(e.status)?"opacity-40":""}`,children:t.jsx("div",{className:"flex justify-center items-center space-x-1 overflow-hidden w-full",children:t.jsx(c,{driver:e})})}),t.jsx("div",{className:`px-2 border-r border-white/10 text-sm text-left ${u(e.status)?"opacity-40 text-white/45":"text-white/80"}`,children:e.driverName.split(" ").pop()}),t.jsx("div",{className:`px-2 border-r border-white/10 text-sm text-center ${de(e.status||"")} ${u(e.status)?"opacity-40 text-white/45":""}`,children:e.status||""}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":a(e,"s1")||"text-white/70"}`,children:e.LS1||"--:--"}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":a(e,"s2")||"text-white/70"}`,children:e.LS2||"--:--"}),t.jsx("div",{className:`px-2 text-base text-center font-mono tabular-nums tracking-tighter ${u(e.status)?"opacity-40 text-white/45":a(e,"s3")||"text-white/70"}`,children:e.LS3||"--:--"})]})}),(e,a)=>e.driver.id===a.driver.id&&e.driver.position===a.driver.position&&e.driver.positionChange===a.driver.positionChange&&e.driver.gap===a.driver.gap&&e.driver.interval===a.driver.interval&&e.driver.bestLap===a.driver.bestLap&&e.driver.lastLapTime===a.driver.lastLapTime&&e.driver.status===a.driver.status&&e.driver.LS1===a.driver.LS1&&e.driver.LS2===a.driver.LS2&&e.driver.LS3===a.driver.LS3&&e.driver.stintHistory===a.driver.stintHistory&&e.driver.stintLaps===a.driver.stintLaps&&e.fastestLapCarIndex===a.fastestLapCarIndex),Be=({drivers:e,previousDrivers:a,getCurrentSectorColor:r,fastestSectors:c,parseSectorTimeString:d})=>{const n=Ee(e,c,d);return t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5",children:[t.jsxs("div",{className:"grid grid-cols-13 gap-0 border-b border-white/10 bg-white/10 px-3 py-4 text-xs font-semibold uppercase tracking-[0.3em] text-white/60",style:{gridTemplateColumns:"64px 116px 116px 96px 80px 80px 80px 1fr 116px 96px 80px 80px 80px"},children:[t.jsx("div",{className:"px-2 text-center",children:"Pos"}),t.jsx("div",{className:"px-2 text-center",children:"Driver"}),t.jsx("div",{className:"px-[7px] text-center",children:"Lap Time"}),t.jsx("div",{className:"px-2 text-center",children:"Gap"}),t.jsx("div",{className:"px-2 text-center",children:"S1"}),t.jsx("div",{className:"px-2 text-center",children:"S2"}),t.jsx("div",{className:"px-2 text-center",children:"S3"}),t.jsx("div",{className:"px-8 text-center",children:"Micro"}),t.jsx("div",{className:"px-2 text-center",children:"Driver"}),t.jsx("div",{className:"px-2 text-center",children:"Status"}),t.jsx("div",{className:"px-2 text-center",children:"S1"}),t.jsx("div",{className:"px-2 text-center",children:"S2"}),t.jsx("div",{className:"px-2 text-center",children:"S3"})]}),t.jsx("div",{children:n.map(l=>t.jsx(Ue,{driver:l,getCurrentSectorColor:r,isFastestS1:l.isFastestS1,isFastestS2:l.isFastestS2,isFastestS3:l.isFastestS3},l.id))})]})},He=({drivers:e,previousDrivers:a,getCurrentSectorColor:r,fastestLapCarIndex:c})=>t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-white/5",children:[t.jsxs("div",{className:"grid grid-cols-12 gap-0 border-b border-white/10 bg-white/10 px-3 py-4 text-xs font-semibold uppercase tracking-[0.3em] text-white/60",style:{gridTemplateColumns:"64px 111px 80px 96px 116px 116px 1fr 116px 96px 80px 80px 80px"},children:[t.jsx("div",{className:"px-2 text-center",children:"Pos"}),t.jsx("div",{className:"px-2 text-center",children:"Driver"}),t.jsx("div",{className:"px-2 text-center",children:"Gap"}),t.jsx("div",{className:"px-2 text-center",children:"Interval"}),t.jsx("div",{className:"px-2 text-center",children:"Best Lap"}),t.jsx("div",{className:"px-2 text-center",children:"Last Lap"}),t.jsx("div",{className:"px-2 text-center",children:"Stints"}),t.jsx("div",{className:"px-2 text-center",children:"Driver"}),t.jsx("div",{className:"px-2 text-center",children:"Status"}),t.jsx("div",{className:"px-2 text-center",children:"S1"}),t.jsx("div",{className:"px-2 text-center",children:"S2"}),t.jsx("div",{className:"px-2 text-center",children:"S3"})]}),t.jsx("div",{children:e.map(d=>t.jsx(Ge,{driver:d,getCurrentSectorColor:r,fastestLapCarIndex:c,StintGraph:Me},d.id))})]});export{Je as LiveTimings};
//# sourceMappingURL=LiveTimings-C0sbBn3t.js.map
