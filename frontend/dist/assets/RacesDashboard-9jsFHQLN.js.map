{"version":3,"file":"RacesDashboard-9jsFHQLN.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/map-pin.js","../../src/components/RacesDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MapPin = createLucideIcon(\"MapPin\", [\n  [\"path\", { d: \"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\", key: \"2oe9fu\" }],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.js.map\n","import React, { useState, useEffect, useMemo, useRef, useCallback } from 'react';\nimport clsx from 'clsx';\nimport { apiGet, apiPostFormData } from '../utils/api';\nimport logger from '../utils/logger';\nimport { Grid3X3, List, Calendar, MapPin, Flag } from 'lucide-react';\nimport { formatFullDate } from '../utils/dateUtils';\nimport { DashboardTable, type DashboardTableColumn } from './layout/DashboardTable';\nimport { DashboardPage } from './layout/DashboardPage';\nimport { useAdmin } from '../contexts/AdminContext';\n\ninterface Event {\n  id: string;\n  season_id: string;\n  track_id: string;\n  track_name: string;\n  event_name?: string | null;\n  short_event_name?: string | null;\n  race_date: string | null;\n  status: 'scheduled' | 'completed' | 'cancelled';\n  session_type: number;\n  session_types: string | null;\n  session_duration: number;\n  weather_air_temp: number;\n  weather_track_temp: number;\n  weather_rain_percentage: number;\n  created_at: string;\n  updated_at: string;\n  session_config: any;\n  order_index?: number | null;\n  track: {\n    id: string;\n    name: string;\n    country: string;\n    length: number;\n    eventName?: string | null;\n    shortEventName?: string | null;\n  };\n  total_laps?: number | null;\n  track_length?: number | null;\n  primary_session_result_id?: string | null;\n}\n\ninterface RacesDashboardProps {\n  seasonId: string;\n  onRaceSelect?: (raceId: string) => void;\n}\n\ntype ViewMode = 'cards' | 'list';\n\nconst formatEventDate = (dateString: string | null) => {\n  if (!dateString) return 'TBD';\n  const parsed = new Date(dateString);\n  if (Number.isNaN(parsed.getTime())) return 'TBD';\n  const weekday = parsed.toLocaleDateString('en-US', {\n    weekday: 'short',\n  });\n  const date = formatFullDate(dateString);\n  return `${weekday}, ${date}`;\n};\n\nconst getSessionTypes = (sessionTypes: string | null) => {\n  if (!sessionTypes) return ['Race'];\n  return sessionTypes.split(', ');\n};\n\nconst getSessionTypeBadgeClass = (sessionType: string) => {\n  const type = sessionType.toLowerCase();\n  if (type.includes('practice')) {\n    return 'bg-emerald-500/15 text-emerald-400';\n  }\n  if (type.includes('qualifying')) {\n    return 'bg-sky-500/15 text-sky-400';\n  }\n  if (type.includes('race')) {\n    return 'bg-red-500/15 text-red-400';\n  }\n  return 'bg-slate-500/10 text-slate-500';\n};\n\nconst EVENT_STATUS_META: Record<Event['status'] | 'scheduled', {\n  label: string;\n  textClass: string;\n  dotClass: string;\n}> = {\n  completed: {\n    label: 'Completed',\n    textClass: 'text-emerald-400',\n    dotClass: 'bg-emerald-400',\n  },\n  cancelled: {\n    label: 'Cancelled',\n    textClass: 'text-red-400',\n    dotClass: 'bg-red-400',\n  },\n  scheduled: {\n    label: 'Scheduled',\n    textClass: 'text-amber-400',\n    dotClass: 'bg-amber-400',\n  },\n};\n\nconst getEventStatusMeta = (status: Event['status'] | undefined) =>\n  EVENT_STATUS_META[status ?? 'scheduled'];\n\nexport const RacesDashboard: React.FC<RacesDashboardProps> = ({ seasonId, onRaceSelect }) => {\n  const [events, setEvents] = useState<Event[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [viewMode, setViewMode] = useState<ViewMode>('cards');\n  const { isAuthenticated } = useAdmin();\n  const [isEditing, setIsEditing] = useState(false);\n  const [pendingUploadEventId, setPendingUploadEventId] = useState<string | null>(null);\n  const [uploadingEventId, setUploadingEventId] = useState<string | null>(null);\n  const [uploadErrors, setUploadErrors] = useState<Record<string, string>>({});\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\n  useEffect(() => {\n    if (!isAuthenticated) {\n      setIsEditing(false);\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    if (!isEditing) {\n      setPendingUploadEventId(null);\n      setUploadingEventId(null);\n    }\n  }, [isEditing]);\n\n  const loadEvents = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await apiGet(`/api/seasons/${seasonId}/events`);\n      if (response.ok) {\n        const data = await response.json();\n        const fetchedEvents: Event[] = data.events || [];\n        const sortedEvents = fetchedEvents\n          .slice()\n          .sort((a, b) => {\n            const aOrder = a.order_index ?? Number.MAX_SAFE_INTEGER;\n            const bOrder = b.order_index ?? Number.MAX_SAFE_INTEGER;\n            if (aOrder !== bOrder) return aOrder - bOrder;\n            const aDate = a.race_date ? Date.parse(a.race_date) : Number.POSITIVE_INFINITY;\n            const bDate = b.race_date ? Date.parse(b.race_date) : Number.POSITIVE_INFINITY;\n            if (aDate !== bDate) return aDate - bDate;\n            return a.created_at.localeCompare(b.created_at);\n          });\n        setEvents(sortedEvents);\n        setUploadErrors({});\n      } else {\n        throw new Error('Failed to load events');\n      }\n    } catch (err) {\n      logger.error('Error loading events:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load events');\n    } finally {\n      setLoading(false);\n    }\n  }, [seasonId]);\n\n  useEffect(() => {\n    loadEvents();\n  }, [seasonId, loadEvents]);\n\n  const { latestCompleted, remainingCompleted, scheduledEvents, orderedEvents } = useMemo(() => {\n    const upcoming: Event[] = [];\n    const finished: Event[] = [];\n\n    events.forEach((event) => {\n      if (event.status === 'completed') {\n        finished.push(event);\n      } else {\n        upcoming.push(event);\n      }\n    });\n\n    const completedSorted = finished\n      .slice()\n      .sort((a, b) => {\n        const aDate = a.race_date ? Date.parse(a.race_date) : Number.NEGATIVE_INFINITY;\n        const bDate = b.race_date ? Date.parse(b.race_date) : Number.NEGATIVE_INFINITY;\n        if (aDate !== bDate) return bDate - aDate;\n        const aOrder = a.order_index ?? Number.MAX_SAFE_INTEGER;\n        const bOrder = b.order_index ?? Number.MAX_SAFE_INTEGER;\n        return aOrder - bOrder;\n      });\n\n    const [latestCompletedEvent, ...earlierCompleted] = completedSorted;\n\n    const listOrder = latestCompletedEvent\n      ? [latestCompletedEvent, ...upcoming, ...earlierCompleted]\n      : [...upcoming, ...earlierCompleted];\n\n    return {\n      latestCompleted: latestCompletedEvent ?? null,\n      remainingCompleted: earlierCompleted,\n      scheduledEvents: upcoming,\n      orderedEvents: listOrder,\n    };\n  }, [events]);\n\n  const handleUploadTrigger = useCallback(\n    (eventId: string) => {\n      if (uploadingEventId) {\n        return;\n      }\n\n      setUploadErrors((prev) => {\n        if (!prev[eventId]) {\n          return prev;\n        }\n        const next = { ...prev };\n        delete next[eventId];\n        return next;\n      });\n\n      setPendingUploadEventId(eventId);\n      fileInputRef.current?.click();\n    },\n    [uploadingEventId],\n  );\n\n  const handleFileChange = useCallback(\n    async (event: React.ChangeEvent<HTMLInputElement>) => {\n      const target = event.target;\n      const selectedFile = target.files?.[0];\n      const targetEventId = pendingUploadEventId;\n\n      if (!selectedFile || !targetEventId) {\n        target.value = '';\n        return;\n      }\n\n      setUploadingEventId(targetEventId);\n\n      try {\n        const formData = new FormData();\n        formData.append('resultsFile', selectedFile);\n\n        const response = await apiPostFormData(\n          `/api/seasons/${seasonId}/events/${targetEventId}/upload`,\n          formData,\n        );\n\n        if (!response.ok) {\n          const data = await response.json().catch(() => ({}));\n          const errorMessage =\n            data?.error ||\n            (Array.isArray(data?.details) ? data.details.join(', ') : data?.details) ||\n            'Failed to upload results';\n          throw new Error(errorMessage);\n        }\n\n        await loadEvents();\n      } catch (uploadError) {\n        setUploadErrors((prev) => ({\n          ...prev,\n          [targetEventId]:\n            uploadError instanceof Error ? uploadError.message : 'Failed to upload results',\n        }));\n      } finally {\n        setUploadingEventId(null);\n        setPendingUploadEventId(null);\n        target.value = '';\n      }\n    },\n    [pendingUploadEventId, seasonId, loadEvents],\n  );\n\n  const tableColumns = useMemo<DashboardTableColumn<Event>[]>(() => {\n    const columns: DashboardTableColumn<Event>[] = [\n      {\n        key: 'track_name',\n        label: 'Event',\n        align: 'left' as const,\n        headerClassName: 'text-left',\n        className: 'font-semibold text-slate-900 dark:text-slate-100',\n        render: (_: unknown, row) =>\n          row.short_event_name || row.event_name || row.track_name || 'TBD',\n      },\n      {\n        key: 'track-info',\n        label: 'Circuit',\n        align: 'left' as const,\n        headerClassName: 'text-left',\n        render: (_: unknown, row) => (\n          <div className=\"text-sm text-slate-500 dark:text-slate-400\">\n            <div>{row.track?.name || 'Venue TBD'}</div>\n            <div>{row.track?.length ? `${row.track.length} km` : 'Distance TBD'}</div>\n          </div>\n        ),\n      },\n      {\n        key: 'laps',\n        label: 'Total Laps',\n        render: (_: unknown, row) => (\n          <span className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">\n            {row.total_laps != null\n              ? row.total_laps\n              : row.session_duration\n              ? `${row.session_duration} laps`\n              : 'Laps TBD'}\n          </span>\n        ),\n      },\n      {\n        key: 'race_date',\n        label: 'Date',\n        render: (_: string | null, row) => (\n          <span className=\"text-sm text-slate-400 dark:text-slate-500\">\n            {formatEventDate(row.race_date)}\n          </span>\n        ),\n      },\n      {\n        key: 'session_types',\n        label: 'Sessions',\n        render: (_: string | null, row) => (\n          <div className=\"flex flex-wrap gap-2\">\n            {getSessionTypes(row.session_types).map((session) => (\n              <span\n                key={session}\n                className={clsx(\n                  'inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] 2xl:text-sm font-semibold',\n                  getSessionTypeBadgeClass(session),\n                )}\n              >\n                {session}\n              </span>\n            ))}\n          </div>\n        ),\n      },\n      {\n        key: 'status',\n        label: 'Status',\n        render: (_: string, row) => {\n          const statusMeta = getEventStatusMeta(row.status);\n          return (\n            <span\n              className={clsx(\n                'inline-flex items-center gap-2 text-sm font-semibold',\n                statusMeta.textClass,\n              )}\n            >\n              <span className={clsx('h-2 w-2 rounded-full', statusMeta.dotClass)} />\n              {statusMeta.label}\n            </span>\n          );\n        },\n      },\n    ];\n\n    if (isEditing) {\n      columns.push({\n        key: 'upload_action',\n        label: 'Upload',\n        align: 'right',\n        headerClassName: 'text-right',\n        render: (_: unknown, row) => (\n          <div className=\"flex flex-col items-end gap-2\">\n            <button\n              type=\"button\"\n              onClick={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n                handleUploadTrigger(row.id);\n              }}\n              disabled={uploadingEventId === row.id}\n              className=\"rounded-lg border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-200 disabled:cursor-not-allowed disabled:opacity-60 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800\"\n            >\n              {uploadingEventId === row.id ? 'Uploading…' : 'Upload Results'}\n            </button>\n            {uploadErrors[row.id] && (\n              <span className=\"max-w-[220px] text-xs text-red-500 dark:text-red-400\">\n                {uploadErrors[row.id]}\n              </span>\n            )}\n          </div>\n        ),\n      });\n    }\n\n    return columns;\n  }, [isEditing, handleUploadTrigger, uploadingEventId, uploadErrors]);\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Schedule</h2>\n          <div className=\"flex space-x-2\">\n            <div className=\"h-10 w-20 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse\"></div>\n            <div className=\"h-10 w-20 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse\"></div>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {[...Array(6)].map((_, i) => (\n            <div key={i} className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6 animate-pulse\">\n              <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-4\"></div>\n              <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-4\"></div>\n              <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <p className=\"text-red-800\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <DashboardPage\n      hero={{\n        imageSrc: '/raw/images/M12_5309-Aangepast.jpg',\n        title: 'Season Schedule',\n        subtitle: events.length ? `${events.length} Events` : 'Season Calendar',\n        description: 'Track every race weekend, session type, and status update across the entire campaign.',\n      }}\n    >\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\".json\"\n        className=\"hidden\"\n        onChange={handleFileChange}\n      />\n\n      {/* Header */}\n      <div className=\"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"flex h-10 w-10 items-center justify-center text-slate-900 dark:text-slate-100\">\n            <Calendar className=\"h-6 w-6\" />\n          </div>\n          <h1 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100\">Season Schedule</h1>\n        </div>\n\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex rounded-lg bg-slate-100 p-1 text-sm dark:bg-slate-900\">\n            <button\n              onClick={() => setViewMode('cards')}\n              className={clsx(\n                'rounded-md px-3 py-1 transition-colors',\n                viewMode === 'cards'\n                  ? 'bg-red-600 text-white'\n                  : 'text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200'\n              )}\n            >\n              Grid\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={clsx(\n                'rounded-md px-3 py-1 transition-colors',\n                viewMode === 'list'\n                  ? 'bg-red-600 text-white'\n                  : 'text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200'\n              )}\n            >\n              List\n            </button>\n          </div>\n          {isAuthenticated && (\n            <button\n              type=\"button\"\n              onClick={() => setIsEditing((prev) => !prev)}\n              disabled={!!uploadingEventId}\n              className=\"rounded-lg border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-200 disabled:cursor-not-allowed disabled:opacity-60 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800\"\n            >\n              {isEditing ? 'Done' : 'Edit'}\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Events */}\n      {events.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Flag className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">No events scheduled</h3>\n          <p className=\"text-gray-600 dark:text-gray-400\">Events will appear here once they are added to the season.</p>\n        </div>\n      ) : (\n        <>\n          {viewMode === 'cards' ? (\n            <div className=\"space-y-10\">\n              {latestCompleted && (\n                <section>\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100\">\n                      Latest Result\n                    </h2>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                      {(() => {\n                        const label = formatEventDate(latestCompleted.race_date);\n                        return label === 'TBD' ? 'Awaiting final date' : label;\n                      })()}\n                    </p>\n                  </div>\n                  <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n                    <EventCard\n                      key={latestCompleted.id}\n                      event={latestCompleted}\n                      onRaceSelect={onRaceSelect}\n                      isEditing={isEditing}\n                      onUploadResults={handleUploadTrigger}\n                      uploading={uploadingEventId === latestCompleted.id}\n                      uploadError={uploadErrors[latestCompleted.id]}\n                    />\n                  </div>\n                </section>\n              )}\n\n              {scheduledEvents.length > 0 && (\n                <section>\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100\">\n                      Upcoming & Scheduled\n                    </h2>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                      {scheduledEvents.length} event{scheduledEvents.length === 1 ? '' : 's'} remaining\n                    </p>\n                  </div>\n                  <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n                    {scheduledEvents.map((event) => (\n                      <EventCard\n                        key={event.id}\n                        event={event}\n                        onRaceSelect={onRaceSelect}\n                        isEditing={isEditing}\n                        onUploadResults={handleUploadTrigger}\n                        uploading={uploadingEventId === event.id}\n                        uploadError={uploadErrors[event.id]}\n                      />\n                    ))}\n                  </div>\n                </section>\n              )}\n\n              {remainingCompleted.length > 0 && (\n                <section>\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <h2 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100\">\n                      Earlier Completed Events\n                    </h2>\n                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                      {remainingCompleted.length + (latestCompleted ? 1 : 0)} completed\n                    </p>\n                  </div>\n                  <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3\">\n                    {remainingCompleted.map((event) => (\n                      <EventCard\n                        key={event.id}\n                        event={event}\n                        onRaceSelect={onRaceSelect}\n                        isEditing={isEditing}\n                        onUploadResults={handleUploadTrigger}\n                        uploading={uploadingEventId === event.id}\n                        uploadError={uploadErrors[event.id]}\n                      />\n                    ))}\n                  </div>\n                </section>\n              )}\n            </div>\n          ) : (\n            <DashboardTable\n              columns={tableColumns}\n              rows={orderedEvents}\n              rowKey={(row) => row.id}\n              onRowClick={!isEditing && onRaceSelect ? (row) => onRaceSelect(row.id) : undefined}\n              emptyMessage=\"No events scheduled.\"\n            />\n          )}\n        </>\n      )}\n    </DashboardPage>\n  );\n};\n\n// Event Card Component\ninterface EventCardProps {\n  event: Event;\n  onRaceSelect?: (raceId: string) => void;\n  isEditing?: boolean;\n  onUploadResults?: (eventId: string) => void;\n  uploading?: boolean;\n  uploadError?: string;\n}\n\nconst EventCard: React.FC<EventCardProps> = ({\n  event,\n  onRaceSelect,\n  isEditing = false,\n  onUploadResults,\n  uploading = false,\n  uploadError,\n}) => {\n  const statusMeta = getEventStatusMeta(event.status);\n  const sessionTypes = getSessionTypes(event.session_types);\n\n  const handleCardClick = () => {\n    if (isEditing) {\n      return;\n    }\n    onRaceSelect?.(event.id);\n  };\n\n  return (\n    <div\n      className={clsx(\n        'flex h-full flex-col overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-md dark:border-slate-800 dark:bg-slate-950/70',\n        isEditing\n          ? 'cursor-default opacity-100'\n          : 'cursor-pointer transition hover:-translate-y-1 hover:shadow-xl',\n      )}\n      onClick={handleCardClick}\n    >\n      <div className=\"flex items-center justify-between border-b border-slate-200 px-6 py-4 dark:border-slate-800 dark:bg-slate-900/70\">\n        <div className=\"flex items-center justify-between w-full gap-3\">\n          <div className=\"flex items-center gap-3\">\n            <MapPin className=\"h-5 w-5 text-red-500\" />\n            <div>\n              <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n                {event.short_event_name || event.event_name || event.track_name || 'TBD'}\n              </h3>\n              <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                {formatEventDate(event.race_date)}\n              </p>\n            </div>\n          </div>\n          <span\n            className={clsx(\n              'inline-flex items-center gap-2 text-[11px] 2xl:text-xs font-semibold uppercase tracking-[0.28em]',\n              statusMeta.textClass\n            )}\n          >\n            <span className={clsx('h-2 w-2 rounded-full', statusMeta.dotClass)} />\n            {statusMeta.label}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"flex flex-col gap-4 px-6 py-5 text-sm 2xl:text-base text-slate-600 dark:text-slate-300\">\n        <div>\n          <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400 dark:text-slate-500\">Track Information</p>\n          <ul className=\"mt-2 space-y-1 text-sm 2xl:text-base text-slate-600 dark:text-slate-300\">\n            <li>{event.track?.name || 'Venue TBD'}</li>\n            <li>{event.track?.length ? `${event.track.length} km` : 'Distance TBD'}</li>\n            <li>{event.total_laps != null ? `${event.total_laps} laps` : event.session_duration ? `${event.session_duration} laps` : 'Laps TBD'}</li>\n          </ul>\n        </div>\n\n        <div>\n          <p className=\"text-xs uppercase tracking-[0.3em] text-slate-400 dark:text-slate-500\">Session Types</p>\n          <div className=\"mt-2 flex flex-wrap gap-2\">\n            {sessionTypes.map((sessionType) => (\n              <span\n                key={sessionType}\n                className={clsx(\n                  'inline-flex items-center rounded-full px-2 py-0.5 text-[10px] 2xl:text-xs font-semibold uppercase tracking-[0.2em]',\n                  getSessionTypeBadgeClass(sessionType)\n                )}\n              >\n                {sessionType}\n              </span>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {isEditing && (\n        <div className=\"border-t border-slate-200 px-6 py-4 dark:border-slate-800 dark:bg-slate-900/60\">\n          <button\n            type=\"button\"\n            onClick={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              onUploadResults?.(event.id);\n            }}\n            disabled={uploading}\n            className=\"rounded-lg border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-200 disabled:cursor-not-allowed disabled:opacity-60 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800\"\n          >\n            {uploading ? 'Uploading…' : 'Upload Results'}\n          </button>\n          {uploadError && (\n            <p className=\"mt-2 text-xs text-red-500 dark:text-red-400\">{uploadError}</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":["MapPin","createLucideIcon","formatEventDate","dateString","parsed","weekday","date","formatFullDate","getSessionTypes","sessionTypes","getSessionTypeBadgeClass","sessionType","type","EVENT_STATUS_META","getEventStatusMeta","status","RacesDashboard","seasonId","onRaceSelect","events","setEvents","useState","loading","setLoading","error","setError","viewMode","setViewMode","isAuthenticated","useAdmin","isEditing","setIsEditing","pendingUploadEventId","setPendingUploadEventId","uploadingEventId","setUploadingEventId","uploadErrors","setUploadErrors","fileInputRef","useRef","useEffect","loadEvents","useCallback","response","apiGet","sortedEvents","a","b","aOrder","bOrder","aDate","bDate","err","logger","latestCompleted","remainingCompleted","scheduledEvents","orderedEvents","useMemo","upcoming","finished","event","completedSorted","latestCompletedEvent","earlierCompleted","listOrder","handleUploadTrigger","eventId","prev","next","_a","handleFileChange","target","selectedFile","targetEventId","formData","apiPostFormData","data","errorMessage","uploadError","tableColumns","columns","_","row","jsxs","jsx","_b","session","clsx","statusMeta","i","DashboardPage","Calendar","Flag","Fragment","label","EventCard","DashboardTable","onUploadResults","uploading","handleCardClick","e"],"mappings":"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","x_google_ignoreList":[0]}